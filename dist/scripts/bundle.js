config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("cne",["ngRoute","firebase","ngSanitize"]);function aSalesdayController(e,t,s,o){var n="sales_days/"+s.salesdayid;this.salesdaySelected=s.salesdayid,this.currentCME=o(firebase.database().ref().child(n)),t.info("in a salesday controller")}function cashDrawerAssignmentsController(e,t,s,o,n,r){var a=this,l=new Date;a.sqrLocations=n(firebase.database().ref().child("reference_lists/sqr_locations")),a.sqrEmployees=n(firebase.database().ref().child("reference_lists/sqr_employees")),a.searchlist={times:{start:l,end:l}},a.cashDrawerList=n(firebase.database().ref().child("sqr_cash_drawers")),a.cmeList=[{test:"test"},{test:"test"},{test:"test"}],a.selected={location:"Oregon"},t.info("in the cash drawer assignment controller",r)}function cmeScheduleController(e,t,s,o,n){this.calendarDays=n(firebase.database().ref().child("calender/2018")),t.info("in the CME Schedule controller")}function customersController(e,t,s,o,n,r,a){var l=this;l.customerList=a(firebase.database().ref().child("customers")),l.customerSalesDays=[],l.selectedCustomer={seasons:{2018:{id:2018}}},l.testList=["a","b","c"],l.state={selected:{customer:{$index:"",$id:""},salesday:{$index:"test",$id:"test"}}},t.info("in the customers controller"),l.selectCustomer=function(e){l.state.selected.customer.$index=e,l.state.selected.customer.$id=l.customerList[e].$id,l.selectedCustomer=r(firebase.database().ref().child("customers").child(l.customerList[e].$id)),l.customerSalesDays=o.compile.customer_sales_days(l.state.selected.customer.$id)},l.updateCustomer=function(){l.selectedCustomer.$save().then(function(e){console.log("updated record successfully")}).catch(function(e){console.log("error updating record",e)})},l.changeRecord=function(e){l.state.selected.customer.$index;switch({prev:0,next:1}[e]){case 0:l.selectCustomer(l.state.selected.customer.$index-1);break;case 1:l.selectCustomer(l.state.selected.customer.$index+1)}},l.generate_bulk_salesdays=function(){console.log("generating bulk salesdays",l.selectedCustomer.sales_days)}}function landingController(e,t){t.info("in the landing controller")}function loginController(e,t,s){var o=this;o.credentials={username:"",password:""},o.active={username:!1,password:!1},o.submitCreds=function(e,t){console.log("submitCreds clicked"),s.authUser.email(e,t).then(function(e){console.log("was success",e)}).catch(function(e){console.log("Error:",e)})},t.info("in the login controller")}function salesDaysController(t,e,s,o,n,r,a){var i=this;i.salesdaysList=o(firebase.database().ref().child("sales_days")),i.selectedRecord={id:"2039752"},i.testCustomers=["Beaverton","Orenco"],i.testSeasons=["2018","2017"],i.testTimes=["9:00 AM","9:15 AM","9:30 AM","9:45 AM"],i.scheduling_params={customer:"",customer_id:"",season:"",bookend_dates:{first:"",last:""},repeats:"",event_days:{Mon:!1,Tue:!1,Wed:!1,Thu:!1,Fri:!1,Sat:!1,Sun:!1},same_day_load_in_out:!0,schedule:{load_in:"",load_out:"",open:"",close:"",sales_start:"",sales_end:""}},i.tempIterations=[],i.tempTimes={load_in:"",load_out:"",open:"",close:"",sales_start:"",sales_end:""},e.info("in the sales days controller"),i.updateRecord=function(e){console.log("got this id",e)},i.addSalesDay=function(){i.salesdaysList.$add({date:(new Date).toISOString(),schedule:{load_in:{datetime:"",sales_day_id:""},load_out:{datetime:"",sales_day_id:""},open:"",close:"",sales_start:"",sales_end:""},customer:"",season:{name:"",frequency:"",instance:0,total:0}}).then(function(e){console.log(e.key),i.selectedRecord=n(firebase.database().ref().child("sales_days").child(e.key)),console.log(i.selectedRecord)}).catch(function(e){console.log("error",e)})},i.generateSalesDays=function(){var e;(e=i.scheduling_params,new Promise(function(t,s){a.sales_days.compile_batch(e).then(function(e){t(e)}).catch(function(e){s(e)})})).then(function(e){console.log("successfully built",e),i.tempIterations=e,t.$apply()}).catch(function(e){console.log(e)})},i.foramtTime=function(e){console.log("formatting time",e);var t=new Date,s=t.getFullYear(),o=t.getMonth(),n=t.getDate(),r=i.tempTimes[e].split(":"),a=r[1].split(" "),l=parseInt(r[0]),c=a[0];"PM"==a[1]&&(l+=12).toString(),o<10&&(o="0"+o),n<10&&(n="0"+n),l<10&&(l="0"+l),i.scheduling_params.schedule[e]=s+"-"+o+"-"+n+"T"+l+":"+c+":00-07:00"},i.saveSalesDays=function(){i.tempIterations.forEach(function(e){i.salesdaysList.$add(e).then(function(e){var t=e.key;console.log(t)})})}}function squareTxsController(s,e,t,o,n,r,a){var l=this,c=moment(new Date).subtract(1,"day");function i(){var e=moment(l.selectedDate).hours(23).minutes(59).seconds(59).format(),t=moment(l.selectedDate).format();a.sqr_txs.full_day(l.selectedLocation.id,t,e).then(function(e){console.log("got a response with",e.length,"records"),l.daystransactions=e,s.$apply()}).catch(function(e){console.log("ERROR",e)})}l.selectedLocation={name:"Oregon",id:""},l.selectedDate=new Date(c.format("MM-DD-YYYY")),l.dayHrs=[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],l.sqrLocations=r(firebase.database().ref().child("reference_lists/sqr_locations")),l.daystransactions=[],e.info("in a square Txs controller",c.format()),l.dayChange=function(e){var t=moment(new Date(l.selectedDate));switch({"-":0,"+":1}[e]){case 0:t.subtract(1,"day");break;case 1:t.add(1,"day")}l.selectedDate=new Date(t.format("MM-DD-YYYY")),i()},l.countTx=function(e){return new sum(e.length)},l.sumTx=function(e){var t=0,s=0;return e.forEach(function(e){console.log(t,e.gross_sales_money.amount),s+=e.gross_sales_money.amount,t++}),console.log("sum",s),""},l.sqrLocations.$loaded().then(function(e){e.forEach(function(e){e.name==l.selectedLocation.name&&(l.selectedLocation.id=e.sqr_id)}),i()})}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/customers",{templateUrl:"views/customersPage.htm",controller:"customersController",controllerAs:"vm",resolve:{customerList:customerList}}).when("/salesdays",{templateUrl:"views/salesDaysPage.htm",controller:"salesDaysController",controllerAs:"vm"}).when("/salesdays/:salesdayid",{templateUrl:"views/aSalesdayPage.htm",controller:"aSalesdayController",controllerAs:"vm"}).when("/cash_drawer_assignments",{templateUrl:"views/cashDrawerAssignmentsPage.htm",controller:"cashDrawerAssignmentsController",controllerAs:"vm"}).when("/square_txs",{templateUrl:"views/squareTxsPage.htm",controller:"squareTxsController",controllerAs:"vm"}).when("/login",{templateUrl:"views/loginPage.htm",controller:"loginController",controllerAs:"vm"}).when("/cme_schedule",{templateUrl:"views/cmeSchedulingPage.htm",controller:"cmeScheduleController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function customerList(){return new Promise(function(e,t){e("good test")})}function customerList(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/customer-list.directive.htm",replace:!0,scope:{},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){console.log("in costomer List controller")}return s.$inject=["$scope","$log"],e}function customerSalesDays(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/customer-sales-days.directive.htm",replace:!0,scope:{salesdaysList:"=",salesdaySelected:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(s,e,t,o){s.$watch("vm.salesdaysList",function(e,t){e&&s.loadSaleDays()},!0)}function s(e,t,n){var r=this;r.detailedSalesDaysList=[],console.log("in the customerSalesDaysController"),e.loadSaleDays=function(){var s=[];Object.keys(r.salesdaysList).forEach(function(e){var t,o;s.push((t=r.salesdaysList[e],o="sales_days/"+t,new Promise(function(t,s){n.get.a_record(o).then(function(e){t(e)}).catch(function(e){s(e)})})))}),Promise.all(s).then(function(e){r.detailedSalesDaysList=e}).catch(function(e){console.log("error",e)})},e.salesDaySelected=function(e){r.salesdaySelected=r.detailedSalesDaysList[e].$id}}return s.$inject=["$scope","$log","firebaseService"],e}function loginPassword(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/login-password.directive.htm",replace:!0,scope:{password:"=",active:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){}return s.$inject=["$scope","$log"],e}function loginUsername(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/login-username.directive.htm",replace:!0,scope:{username:"=",active:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){}return s.$inject=["$scope","$log"],e}function salesDayTxs(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/sales-day-transactions.directive.htm",replace:!0,scope:{txsList:"=",salesdaySelected:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(s,e,t,o){s.$watch("vm.salesdaySelected",function(e,t){e&&s.loadSDTxs()},!0)}function s(s,e,o){var n=this;function r(e,t){e+=t;return new Promise(function(t,s){o.get.a_record(e).then(function(e){t(e)}).catch(function(e){s(e)})})}n.promiseList=[],n.detailedTxList=[],console.log("in the salesDayTxsController"),s.loadSDTxs=function(){r("sales_days/",n.salesdaySelected).then(function(t){Object.keys(t.transactions).forEach(function(e){"placeholder"!=t.transactions[e]&&n.promiseList.push(r("transactions/",t.transactions[e]))}),Promise.all(n.promiseList).then(function(e){n.detailedTxList=e,s.$apply()}).catch(function(e){console.log("error",e)})}).catch(function(e){console.log("error",e)})}}return s.$inject=["$scope","$log","firebaseService"],e}function dataService(n){return{sqr_txs:{full_day:function(e,t,s){var o={location:e,start:t,end:s};return console.log("getting day's Transactions"),new Promise(function(t,s){n({method:"POST",url:"/squarepos/txs",headers:{"Content-Type":"application/json"},data:o}).then(function(e){t(e.data)},function(e){s(e)})})}},sales_days:{compile_batch:function(e){return new Promise(function(t,s){n({method:"POST",url:"/api/sales_days/compile_new_sales_days_batch",headers:{"Content-Type":"application/json"},data:e}).then(function(e){t(e.data)},function(e){s(e)})})}}}}function firebaseService(e,n,t){return{get:{customer_list:function(){return new Promise(function(e,t){})},a_record:function(o){return new Promise(function(t,s){var e=n(firebase.database().ref().child(o));e.$loaded().then(function(e){t(e)}).catch(function(e){s(e)})})}},authUser:{email:function(e,s){return console.log("authenticating user"),new Promise(function(t,o){firebase.auth().signInWithEmailAndPassword(e,s).then(function(e){t(e)}).catch(function(e){var t=e.code,s=e.message;o({code:t,message:s})})})}},compile:{customer_sales_days:function(e){}},test:function(){return"good test from FB Service"}}}angular.module("cne").controller("aSalesdayController",aSalesdayController),aSalesdayController.$inject=["$scope","$log","$routeParams","$firebaseObject"],angular.module("cne").controller("cashDrawerAssignmentsController",cashDrawerAssignmentsController),cashDrawerAssignmentsController.$inject=["$scope","$log","$firebase","$firebaseObject","$firebaseArray","dataService"],angular.module("cne").controller("cmeScheduleController",cmeScheduleController),cmeScheduleController.$inject=["$scope","$log","$firebase","$firebaseObject","$firebaseArray"],angular.module("cne").controller("customersController",customersController),customersController.$inject=["$scope","$log","customerList","firebaseService","$firebase","$firebaseObject","$firebaseArray"],angular.module("cne").controller("landingController",landingController),landingController.$inject=["$scope","$log"],angular.module("cne").controller("loginController",loginController),loginController.$inject=["$scope","$log","firebaseService"],angular.module("cne").controller("salesDaysController",salesDaysController),salesDaysController.$inject=["$scope","$log","$firebase","$firebaseArray","$firebaseObject","$http","dataService"],angular.module("cne").controller("squareTxsController",squareTxsController),squareTxsController.$inject=["$scope","$log","$routeParams","$firebase","$firebaseObject","$firebaseArray","dataService"],angular.module("cne").config(config),angular.module("cne").directive("customerList",customerList),angular.module("cne").directive("customerSalesDays",customerSalesDays),angular.module("cne").directive("loginPassword",loginPassword),angular.module("cne").directive("loginUsername",loginUsername),angular.module("cne").directive("salesDayTxs",salesDayTxs),angular.module("cne").factory("dataService",dataService),dataService.$inject=["$http"],angular.module("cne").factory("firebaseService",firebaseService),firebaseService.$inject=["$firebase","$firebaseObject","$firebaseArray"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9hLXNhbGVzZGF5LWNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2Nhc2gtZHJhd2VyLWFzc2lnbm1lbnRzLWNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2NtZS1zY2hlZHVsZS1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9jdXN0b21lcnMtY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvbGFuZGluZy1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sb2dpbi1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zYWxlc2RheXMtY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvc3F1YXJlLXR4cy1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGVzLWNvbmZpZy5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jdXN0b21lci1saXN0LmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2N1c3RvbWVyLXNhbGVzLWRheXMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvZ2luLXBhc3N3b3JkLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2dpbi11c2VybmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2FsZXMtZGF5LXRyYW5zYWN0aW9ucy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9kYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9maXJlYmFzZS5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFoTnV0cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJhU2FsZXNkYXlDb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvZyIsIiRyb3V0ZVBhcmFtcyIsIiRmaXJlYmFzZU9iamVjdCIsImRiUGF0aCIsInNhbGVzZGF5aWQiLCJ0aGlzIiwic2FsZXNkYXlTZWxlY3RlZCIsImN1cnJlbnRDTUUiLCJmaXJlYmFzZSIsImRhdGFiYXNlIiwicmVmIiwiY2hpbGQiLCJpbmZvIiwiY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlciIsIiRmaXJlYmFzZSIsIiRmaXJlYmFzZUFycmF5IiwiZGF0YVNlcnZpY2UiLCJ2bSIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsInNxckxvY2F0aW9ucyIsInNxckVtcGxveWVlcyIsInNlYXJjaGxpc3QiLCJ0aW1lcyIsInN0YXJ0IiwiZW5kIiwiY2FzaERyYXdlckxpc3QiLCJjbWVMaXN0IiwidGVzdCIsInNlbGVjdGVkIiwibG9jYXRpb24iLCJjbWVTY2hlZHVsZUNvbnRyb2xsZXIiLCJjYWxlbmRhckRheXMiLCJjdXN0b21lcnNDb250cm9sbGVyIiwiY3VzdG9tZXJMaXN0IiwiZmlyZWJhc2VTZXJ2aWNlIiwiY3VzdG9tZXJTYWxlc0RheXMiLCJzZWxlY3RlZEN1c3RvbWVyIiwic2Vhc29ucyIsIjIwMTgiLCJpZCIsInRlc3RMaXN0Iiwic3RhdGUiLCJjdXN0b21lciIsIiRpbmRleCIsIiRpZCIsInNhbGVzZGF5Iiwic2VsZWN0Q3VzdG9tZXIiLCJpbmRleF9pZCIsImNvbXBpbGUiLCJjdXN0b21lcl9zYWxlc19kYXlzIiwidXBkYXRlQ3VzdG9tZXIiLCIkc2F2ZSIsInRoZW4iLCJzIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZSIsImNoYW5nZVJlY29yZCIsInNlbGVjdCIsInByZXYiLCJuZXh0IiwiZ2VuZXJhdGVfYnVsa19zYWxlc2RheXMiLCJzYWxlc19kYXlzIiwibGFuZGluZ0NvbnRyb2xsZXIiLCJsb2dpbkNvbnRyb2xsZXIiLCJjcmVkZW50aWFscyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJhY3RpdmUiLCJzdWJtaXRDcmVkcyIsInBhc3MiLCJhdXRoVXNlciIsImVtYWlsIiwic2FsZXNEYXlzQ29udHJvbGxlciIsIiRodHRwIiwic2FsZXNkYXlzTGlzdCIsInNlbGVjdGVkUmVjb3JkIiwidGVzdEN1c3RvbWVycyIsInRlc3RTZWFzb25zIiwidGVzdFRpbWVzIiwic2NoZWR1bGluZ19wYXJhbXMiLCJjdXN0b21lcl9pZCIsInNlYXNvbiIsImJvb2tlbmRfZGF0ZXMiLCJmaXJzdCIsImxhc3QiLCJyZXBlYXRzIiwiZXZlbnRfZGF5cyIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCIsIlN1biIsInNhbWVfZGF5X2xvYWRfaW5fb3V0Iiwic2NoZWR1bGUiLCJsb2FkX2luIiwibG9hZF9vdXQiLCJvcGVuIiwiY2xvc2UiLCJzYWxlc19zdGFydCIsInNhbGVzX2VuZCIsInRlbXBJdGVyYXRpb25zIiwidGVtcFRpbWVzIiwidXBkYXRlUmVjb3JkIiwicmVjb3JkX2lkIiwiYWRkU2FsZXNEYXkiLCIkYWRkIiwiZGF0ZSIsInRvSVNPU3RyaW5nIiwiZGF0ZXRpbWUiLCJzYWxlc19kYXlfaWQiLCJuYW1lIiwiZnJlcXVlbmN5IiwiaW5zdGFuY2UiLCJ0b3RhbCIsImtleSIsImdlbmVyYXRlU2FsZXNEYXlzIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb21waWxlX2JhdGNoIiwiJGFwcGx5IiwiZm9yYW10VGltZSIsInNlY3Rpb24iLCJ0b2RheSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwidGltZVNwbGl0Iiwic3BsaXQiLCJtaW5TcGxpdCIsImhvdXIiLCJwYXJzZUludCIsIm1pbnV0ZSIsInRvU3RyaW5nIiwic2F2ZVNhbGVzRGF5cyIsImZvckVhY2giLCJjbWVfaXRlcmF0aW9uIiwic3F1YXJlVHhzQ29udHJvbGxlciIsInllc3RlcmRheSIsIm1vbWVudCIsInN1YnRyYWN0IiwidXBkYXRlVHhMaXN0IiwiZW5kT2ZEYXkiLCJzZWxlY3RlZERhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZm9ybWF0Iiwic3RhcnRPZkRheSIsInNxcl90eHMiLCJmdWxsX2RheSIsInNlbGVjdGVkTG9jYXRpb24iLCJsZW5ndGgiLCJkYXlzdHJhbnNhY3Rpb25zIiwiZGF5SHJzIiwiZGF5Q2hhbmdlIiwiZGlyZWN0aW9uIiwiY3VycmVudERhdGUiLCItIiwiKyIsImFkZCIsImNvdW50VHgiLCJ0eEFycmF5Iiwic3VtIiwic3VtVHgiLCJjb3VudGVyIiwidHgiLCJncm9zc19zYWxlc19tb25leSIsImFtb3VudCIsIiRsb2FkZWQiLCJhbGxMb2NhdGlvbnMiLCJzcXJfaWQiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaGFzaFByZWZpeCIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwic2NvcGUiLCJsaW5rIiwibGlua0Z1bmMiLCJjdXN0b21lckxpc3RDb250cm9sbGVyIiwiYmluZFRvQ29udHJvbGxlciIsImVsIiwiYXR0ciIsImN0cmwiLCIkaW5qZWN0IiwiY3VzdG9tZXJTYWxlc0RheXNDb250cm9sbGVyIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImxvYWRTYWxlRGF5cyIsImRldGFpbGVkU2FsZXNEYXlzTGlzdCIsImFsbFByb21pc2VzIiwiT2JqZWN0Iiwia2V5cyIsInBhdGgiLCJwdXNoIiwiZ2V0IiwiYV9yZWNvcmQiLCJhbGwiLCJzYWxlc0RheVNlbGVjdGVkIiwiaW5kZXgiLCJsb2dpblBhc3N3b3JkIiwibG9naW5QYXNzd29yZENvbnRyb2xsZXIiLCJsb2dpblVzZXJuYW1lIiwibG9naW5Vc2VybmFtZUNvbnRyb2xsZXIiLCJzYWxlc0RheVR4cyIsInR4c0xpc3QiLCJzYWxlc0RheVR4c0NvbnRyb2xsZXIiLCJsb2FkU0RUeHMiLCJsb2FkQVJjcmQiLCJwcm9taXNlTGlzdCIsImRldGFpbGVkVHhMaXN0IiwiZGV0YWlsZWREYXkiLCJ0cmFuc2FjdGlvbnMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicG9zdE9iamVjdCIsIm1ldGhvZCIsInVybCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJkYXRhIiwicmVzcG9uc2UiLCJlcnJvciIsImN1c3RvbWVyX2xpc3QiLCJkZXNpcmVkUmVjb3JkIiwiYXV0aCIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwiZXJyb3JDb2RlIiwiY29kZSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJmYWN0b3J5Il0sIm1hcHBpbmdzIjoic0RBQ0EsSUFBQUEsT0FBQUMsUUFBQUMsT0FBQSxNQUFBLENBQUEsVUFBQSxXQUFBLGVDTUEsU0FBQUMsb0JBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0EsSUFDQUMsRUFBQSxjQUFBRixFQUFBRyxXQURBQyxLQUVBQyxpQkFBQUwsRUFBQUcsV0FGQUMsS0FJQUUsV0FBQUwsRUFBQU0sU0FBQUMsV0FBQUMsTUFBQUMsTUFBQVIsSUFFQUgsRUFBQVksS0FBQSw0QkNUQSxTQUFBQyxnQ0FBQWQsRUFBQUMsRUFBQWMsRUFBQVosRUFBQWEsRUFBQUMsR0FHQSxJQUFBQyxFQUFBWixLQUNBYSxFQUFBLElBQUFDLEtBRUFGLEVBQUFHLGFBQUFMLEVBQUFQLFNBQUFDLFdBQUFDLE1BQUFDLE1BQUEsa0NBQ0FNLEVBQUFJLGFBQUFOLEVBQUFQLFNBQUFDLFdBQUFDLE1BQUFDLE1BQUEsa0NBQ0FNLEVBQUFLLFdBQUEsQ0FDQUMsTUFBQSxDQUFBQyxNQUFBTixFQUFBTyxJQUFBUCxJQUdBRCxFQUFBUyxlQUFBWCxFQUFBUCxTQUFBQyxXQUFBQyxNQUFBQyxNQUFBLHFCQUNBTSxFQUFBVSxRQUFBLENBQUEsQ0FBQUMsS0FBQSxRQUFBLENBQUFBLEtBQUEsUUFBQSxDQUFBQSxLQUFBLFNBRUFYLEVBQUFZLFNBQUEsQ0FDQUMsU0FBQSxVQUlBOUIsRUFBQVksS0FBQSwyQ0FBQUksR0NwQkEsU0FBQWUsc0JBQUFoQyxFQUFBQyxFQUFBYyxFQUFBWixFQUFBYSxHQUdBVixLQUNBMkIsYUFB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OU0sUUFDQUMsT0FBQSxPQUNBNlAsUUFBQSxrQkFBQXZOLGlCQUdBQSxnQkFBQXVLLFFBQUEsQ0FBQSxZQUFBLGtCQUFBIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIE1PRFVMRVxudmFyIGFoTnV0cyA9IGFuZ3VsYXIubW9kdWxlKCdjbmUnLCBbJ25nUm91dGUnLCAnZmlyZWJhc2UnLCAnbmdTYW5pdGl6ZSddKTtcbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdhU2FsZXNkYXlDb250cm9sbGVyJywgYVNhbGVzZGF5Q29udHJvbGxlcik7XG5cbmFTYWxlc2RheUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGZpcmViYXNlT2JqZWN0J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gYVNhbGVzZGF5Q29udHJvbGxlcigkc2NvcGUsICRsb2csICRyb3V0ZVBhcmFtcywgJGZpcmViYXNlT2JqZWN0KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgZGJQYXRoID0gJ3NhbGVzX2RheXMvJyArICRyb3V0ZVBhcmFtcy5zYWxlc2RheWlkO1xuXHR2bS5zYWxlc2RheVNlbGVjdGVkID0gJHJvdXRlUGFyYW1zLnNhbGVzZGF5aWQ7XG5cblx0dm0uY3VycmVudENNRSA9ICRmaXJlYmFzZU9iamVjdChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKGRiUGF0aCkpO1xuXG5cdCRsb2cuaW5mbygnaW4gYSBzYWxlc2RheSBjb250cm9sbGVyJyk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlcicsIGNhc2hEcmF3ZXJBc3NpZ25tZW50c0NvbnRyb2xsZXIpO1xuXG5jYXNoRHJhd2VyQXNzaWdubWVudHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJGZpcmViYXNlJywgJyRmaXJlYmFzZU9iamVjdCcsICckZmlyZWJhc2VBcnJheScsICdkYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNhc2hEcmF3ZXJBc3NpZ25tZW50c0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkZmlyZWJhc2UsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXksIGRhdGFTZXJ2aWNlKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpO1xuXG5cdHZtLnNxckxvY2F0aW9ucyA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ3JlZmVyZW5jZV9saXN0cy9zcXJfbG9jYXRpb25zJykpO1xuXHR2bS5zcXJFbXBsb3llZXMgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdyZWZlcmVuY2VfbGlzdHMvc3FyX2VtcGxveWVlcycpKTtcblx0dm0uc2VhcmNobGlzdCA9IHtcblx0XHR0aW1lczogeyBzdGFydDogY3VycmVudFRpbWUsIGVuZDogY3VycmVudFRpbWV9XG5cdH1cblx0XG5cdHZtLmNhc2hEcmF3ZXJMaXN0ID0gJGZpcmViYXNlQXJyYXkoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgnc3FyX2Nhc2hfZHJhd2VycycpKTtcblx0dm0uY21lTGlzdCA9IFt7dGVzdDpcInRlc3RcIn0sIHt0ZXN0OlwidGVzdFwifSwge3Rlc3Q6XCJ0ZXN0XCJ9XTtcblxuXHR2bS5zZWxlY3RlZCA9IHtcblx0XHRsb2NhdGlvbjogXCJPcmVnb25cIlxuXHR9O1xuXHRcblx0Ly9ub3RpZnkgbG9jYXRpb25cblx0JGxvZy5pbmZvKCdpbiB0aGUgY2FzaCBkcmF3ZXIgYXNzaWdubWVudCBjb250cm9sbGVyJywgZGF0YVNlcnZpY2UpO1x0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdFxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdjbWVTY2hlZHVsZUNvbnRyb2xsZXInLCBjbWVTY2hlZHVsZUNvbnRyb2xsZXIpO1xuXG5jbWVTY2hlZHVsZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckZmlyZWJhc2UnLCAnJGZpcmViYXNlT2JqZWN0JywgJyRmaXJlYmFzZUFycmF5J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY21lU2NoZWR1bGVDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJGZpcmViYXNlLCAkZmlyZWJhc2VPYmplY3QsICRmaXJlYmFzZUFycmF5KSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2bS5jYWxlbmRhckRheXMgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdjYWxlbmRlci8yMDE4JykpO1xuXHQkbG9nLmluZm8oJ2luIHRoZSBDTUUgU2NoZWR1bGUgY29udHJvbGxlcicpO1x0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdFxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignY3VzdG9tZXJzQ29udHJvbGxlcicsIGN1c3RvbWVyc0NvbnRyb2xsZXIpO1xuXG5jdXN0b21lcnNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnY3VzdG9tZXJMaXN0JywgJ2ZpcmViYXNlU2VydmljZScsICckZmlyZWJhc2UnLCAnJGZpcmViYXNlT2JqZWN0JywgJyRmaXJlYmFzZUFycmF5J107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY3VzdG9tZXJzQ29udHJvbGxlcigkc2NvcGUsICRsb2csIGN1c3RvbWVyTGlzdCwgZmlyZWJhc2VTZXJ2aWNlLCAkZmlyZWJhc2UsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXkpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLmN1c3RvbWVyTGlzdCA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ2N1c3RvbWVycycpKTtcblx0dm0uY3VzdG9tZXJTYWxlc0RheXMgPSBbXTtcblx0dm0uc2VsZWN0ZWRDdXN0b21lciA9IHsgc2Vhc29uczogeyBcIjIwMThcIjogeyBpZDogMjAxOH0gfSB9O1xuXHR2bS50ZXN0TGlzdCA9IFsnYScsICdiJywgJ2MnXTsgLy8kZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdjdXN0b21lcnMnKS5jaGlsZCgnY3VzdG9tZXJfbGlzdCcpKTtcblx0dm0uc3RhdGUgPSB7XG5cdFx0c2VsZWN0ZWQ6IHtcblx0XHRcdGN1c3RvbWVyOiB7XG5cdFx0XHRcdCRpbmRleDogXCJcIixcblx0XHRcdFx0JGlkOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0c2FsZXNkYXk6IHtcblx0XHRcdFx0JGluZGV4OiBcInRlc3RcIixcblx0XHRcdFx0JGlkOiBcInRlc3RcIlxuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvL2lkZW50aWZ5IHdoZXJlIHdlIGFyZVxuXHQkbG9nLmluZm8oJ2luIHRoZSBjdXN0b21lcnMgY29udHJvbGxlcicpO1x0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cdFxuXG5cdC8qXG5cdCpcdExPQ0FMIEZVTkNUSU9OUyBHTyBIRVJFXG5cdCpcblx0Ki9cblxuXHQvL1x0TE9BRCBDVVNUT01FUiBMSVNUXG5cdGZ1bmN0aW9uIGxvYWRfY3VzdG9tZXJfbGlzdCgpIHtcblx0XHRcblx0XHQvL3RyYWNrIHN0YXJ0aW5nIGZ1bmN0aW9uXG5cdFx0Ly9jb25zb2xlLmxvZygnbG9hZGluZyB0aGUgY3VzdG9tZXIgbGlzdCcpO1xuXHRcdFxuXHRcdC8vZ2F0aGVyIHRoZSBkYXRhXG5cdFx0ZmlyZWJhc2VTZXJ2aWNlLmdldC5jdXN0b21lcl9saXN0KCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdFxuXHRcdFx0Ly9jb25zb2xlLmxvZygnZ290IHRoaXMgcmVzcG9ucycsIHMpO1xuXHRcdFx0XG5cdFx0XHQvL3doZW4gdGhlIGxpc3QgaGFzIGJlZW4gbG9hZGVkIHVwZGF0ZSB0aGUgdmFyaWFibGVzXG5cdFx0XHQvL3ZtLmN1c3RvbWVyTGlzdCA9IHM7XG5cdFx0XHR2bS5jdXN0b21lckxpc3QgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdjdXN0b21lcnMnKS5jaGlsZCgnY3VzdG9tZXJfbGlzdCcpKTtcblxuXHRcdFx0Ly9yZWZsZWN0IHRoZSBjaGFuZ2VzXG5cdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHQvL2lmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvdyB0aGUgZXJyb3Jcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8qXG5cdCpcdFZJRVcgTU9ERUwgRlVOQ1RJT05TIEdPIEhFUkVcblx0KlxuXHQqL1x0XG5cdC8vXHRTRUxFQ1QgQ0xJQ0tFRCBDVVNUT01FUlxuXHR2bS5zZWxlY3RDdXN0b21lciA9IGZ1bmN0aW9uKGluZGV4X2lkKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dm0uc3RhdGUuc2VsZWN0ZWQuY3VzdG9tZXIuJGluZGV4ID0gaW5kZXhfaWQ7XG5cdFx0dm0uc3RhdGUuc2VsZWN0ZWQuY3VzdG9tZXIuJGlkID0gdm0uY3VzdG9tZXJMaXN0W2luZGV4X2lkXS4kaWQ7XG5cdFx0dm0uc2VsZWN0ZWRDdXN0b21lciA9ICRmaXJlYmFzZU9iamVjdChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdjdXN0b21lcnMnKS5jaGlsZCh2bS5jdXN0b21lckxpc3RbaW5kZXhfaWRdLiRpZCkpO1xuXHRcdHZtLmN1c3RvbWVyU2FsZXNEYXlzID0gZmlyZWJhc2VTZXJ2aWNlLmNvbXBpbGUuY3VzdG9tZXJfc2FsZXNfZGF5cyh2bS5zdGF0ZS5zZWxlY3RlZC5jdXN0b21lci4kaWQpO1xuXHR9O1xuXG5cdC8vXHRVUERBVEUgVEhFIENVU1RPTUVSIFJFQ09SRFxuXHR2bS51cGRhdGVDdXN0b21lciA9IGZ1bmN0aW9uKCkge1xuXHRcdHZtLnNlbGVjdGVkQ3VzdG9tZXIuJHNhdmUoKS50aGVuKGZ1bmN0aW9uIHN1Y2NlcyhzKSB7XG5cdFx0XHRjb25zb2xlLmxvZygndXBkYXRlZCByZWNvcmQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIHVwZGF0aW5nIHJlY29yZCcsIGUpO1xuXHRcdH0pO1xuXHR9O1xuXG5cdC8vXHRNT1ZFIFRPIFRIRSBORVhUIENVU1RPTUVSXG5cdHZtLmNoYW5nZVJlY29yZCA9IGZ1bmN0aW9uKHNlbGVjdCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBvcHRuID0geyBcInByZXZcIjogMCwgXCJuZXh0XCI6IDEgfTtcblx0XHR2YXIgaW5kZXhfaWQgPSB2bS5zdGF0ZS5zZWxlY3RlZC5jdXN0b21lci4kaW5kZXg7XG5cblx0XHQvL2NvbnNvbGUubG9nKGluZGV4X2lkKTtcblxuXHRcdHN3aXRjaChvcHRuW3NlbGVjdF0pIHtcblx0XHRcdGNhc2UgMDpcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygncHJldmlvdXMgcmVjb3JkJyk7XG5cdFx0XHRcdHZtLnNlbGVjdEN1c3RvbWVyKHZtLnN0YXRlLnNlbGVjdGVkLmN1c3RvbWVyLiRpbmRleCAtIDEpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnbmV4dCByZWNvcmQnKTtcblx0XHRcdFx0dm0uc2VsZWN0Q3VzdG9tZXIodm0uc3RhdGUuc2VsZWN0ZWQuY3VzdG9tZXIuJGluZGV4ICsgMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0YnJlYWs7XG5cdFx0fVxuXHR9O1xuXG5cdC8vXHRHRU5FUkFURSBCVUxLIFNBTEVTIERBWVNcblx0dm0uZ2VuZXJhdGVfYnVsa19zYWxlc2RheXMgPSBmdW5jdGlvbigpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRjb25zb2xlLmxvZygnZ2VuZXJhdGluZyBidWxrIHNhbGVzZGF5cycsIHZtLnNlbGVjdGVkQ3VzdG9tZXIuc2FsZXNfZGF5cyk7XG5cdFx0XG5cdH07XG5cblx0Ly9ydW4gdGhlIHRlc3RcblxuXHQvL29uIHBhZ2UgbG9hZFxuXHQvL2xvYWRfY3VzdG9tZXJfbGlzdCgpO1xuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignbGFuZGluZ0NvbnRyb2xsZXInLCBsYW5kaW5nQ29udHJvbGxlcik7XG5cbmxhbmRpbmdDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsYW5kaW5nQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0JGxvZy5pbmZvKCdpbiB0aGUgbGFuZGluZyBjb250cm9sbGVyJyk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignbG9naW5Db250cm9sbGVyJywgbG9naW5Db250cm9sbGVyKTtcblxubG9naW5Db250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnZmlyZWJhc2VTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9naW5Db250cm9sbGVyKCRzY29wZSwgJGxvZywgZmlyZWJhc2VTZXJ2aWNlKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVzXG5cdHZtLmNyZWRlbnRpYWxzID0ge1xuXHRcdHVzZXJuYW1lOiBcIlwiLFxuXHRcdHBhc3N3b3JkOiBcIlwiXG5cdH07XG5cblx0dm0uYWN0aXZlID0ge1xuXHRcdHVzZXJuYW1lOiBmYWxzZSxcblx0XHRwYXNzd29yZDogZmFsc2Vcblx0fTtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXHR2bS5zdWJtaXRDcmVkcyA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBwYXNzKSB7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coJ3N1Ym1pdENyZWRzIGNsaWNrZWQnKTtcblx0XHRcblx0XHQvL3N1Ym1pdCBjcmVkZW50aWFsc1xuXHRcdGZpcmViYXNlU2VydmljZS5hdXRoVXNlci5lbWFpbCh1c2VybmFtZSwgcGFzcykudGhlbihmdW5jdGlvbiBzdWNjZXNzIChzKSB7XG5cblx0XHRcdGNvbnNvbGUubG9nKCd3YXMgc3VjY2VzcycsIHMpO1xuXG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coXCJFcnJvcjpcIiwgZSk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQkbG9nLmluZm8oJ2luIHRoZSBsb2dpbiBjb250cm9sbGVyJyk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignc2FsZXNEYXlzQ29udHJvbGxlcicsIHNhbGVzRGF5c0NvbnRyb2xsZXIpO1xuXG5zYWxlc0RheXNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJGZpcmViYXNlJywgJyRmaXJlYmFzZUFycmF5JywgJyRmaXJlYmFzZU9iamVjdCcsICckaHR0cCcsICdkYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNhbGVzRGF5c0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkZmlyZWJhc2UsICRmaXJlYmFzZUFycmF5LCAkZmlyZWJhc2VPYmplY3QsICRodHRwLCBkYXRhU2VydmljZSkge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0Lyp2YXIgaXRlcmF0aW9uID0ge1xuXHRcdGRhdGU6IFwiMjAxOC0wNS0wNVQwNjowMDowMFpcIixcblx0XHR3a19kYXk6IFwiU2F0XCIsXG5cdFx0aWQ6IFwiYmVhdmVydG9uX2ZtXzAwMVwiLFxuXHRcdHNjaGVkdWxlOiB7XG5cdFx0XHRsb2FkX2luOiBcIlwiLFxuXHRcdFx0bG9hZF9vdXQ6IFwiXCIsXG5cdFx0XHRvcGVuOiBcIjg6MDAgQU1cIixcblx0XHRcdGNsb3NlOiBcIjE6MzAgUE1cIixcblx0XHRcdHNhbGVzX3N0YXJ0OiBcIlwiLFxuXHRcdFx0c2FsZXNfZW5kOiBcIlwiXG5cdFx0fVxuXHR9OyovXG5cdHZtLnNhbGVzZGF5c0xpc3QgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdzYWxlc19kYXlzJykpO1xuXHR2bS5zZWxlY3RlZFJlY29yZCA9IHsgaWQ6IFwiMjAzOTc1MlwiIH07XG5cdHZtLnRlc3RDdXN0b21lcnMgPSBbIFwiQmVhdmVydG9uXCIsIFwiT3JlbmNvXCIgXTtcblx0dm0udGVzdFNlYXNvbnMgPSBbICcyMDE4JywgJzIwMTcnIF07XG5cdC8vdm0ucmVwZWF0cyA9IFsgJ25ldmVyJywgXCJldmVyeSB3ZWVrXCIsIFwiZXZlcnkgMiB3ZWVrc1wiLCBcImV2ZXJ5IDMgd2Vla3NcIiwgXCJldmVyeV80X3dlZWtzXCIsIFwiZXZlcnlfNV93ZWVrc1wiLCBcImV2ZXJ5XzZfd2Vla3NcIiwgXCJldmVyeV83X3dlZWtzXCIsIFwiZXZlcnlfOF93ZWVrc1wiIF07XG5cdHZtLnRlc3RUaW1lcyA9IFsgJzk6MDAgQU0nLCc5OjE1IEFNJywnOTozMCBBTScsJzk6NDUgQU0nICBdO1xuXHR2bS5zY2hlZHVsaW5nX3BhcmFtcyA9IHtcblx0XHRjdXN0b21lcjogXCJcIixcblx0XHRjdXN0b21lcl9pZDogXCJcIixcblx0XHRzZWFzb246IFwiXCIsXG5cdFx0Ym9va2VuZF9kYXRlczoge1xuXHRcdFx0Zmlyc3Q6IFwiXCIsXG5cdFx0XHRsYXN0OiBcIlwiXG5cdFx0fSxcblx0XHRyZXBlYXRzOiBcIlwiLFxuXHRcdGV2ZW50X2RheXM6IHtcblx0XHRcdE1vbjogZmFsc2UsXG5cdFx0XHRUdWU6IGZhbHNlLFxuXHRcdFx0V2VkOiBmYWxzZSxcblx0XHRcdFRodTogZmFsc2UsXG5cdFx0XHRGcmk6IGZhbHNlLFxuXHRcdFx0U2F0OiBmYWxzZSxcblx0XHRcdFN1bjogZmFsc2Vcblx0XHR9LFxuXHRcdHNhbWVfZGF5X2xvYWRfaW5fb3V0OiB0cnVlLFxuXHRcdHNjaGVkdWxlOiB7XG5cdFx0XHRsb2FkX2luOiBcIlwiLFxuXHRcdFx0bG9hZF9vdXQ6IFwiXCIsXG5cdFx0XHRvcGVuOiBcIlwiLFxuXHRcdFx0Y2xvc2U6IFwiXCIsXG5cdFx0XHRzYWxlc19zdGFydDogXCJcIixcblx0XHRcdHNhbGVzX2VuZDogXCJcIlxuXHRcdH1cblx0fTtcblx0dm0udGVtcEl0ZXJhdGlvbnMgPSBbXTtcblx0dm0udGVtcFRpbWVzID0ge1xuXHRcdGxvYWRfaW46IFwiXCIsXG5cdFx0bG9hZF9vdXQ6IFwiXCIsXG5cdFx0b3BlbjogXCJcIixcblx0XHRjbG9zZTogXCJcIixcblx0XHRzYWxlc19zdGFydDogXCJcIixcblx0XHRzYWxlc19lbmQ6IFwiXCJcblx0fVxuXG5cdC8vaWRlbnRpZnkgY29udHJvbGxlclxuXHQkbG9nLmluZm8oJ2luIHRoZSBzYWxlcyBkYXlzIGNvbnRyb2xsZXInKTtcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXG5cdC8qXG5cdCpcdExPQ0FMIEZVTkNUSU9OUyBHTyBIRVJFXG5cdCpcblx0Ki9cblx0ZnVuY3Rpb24gYnVpbGRfc2FsZXNfZGF5c19hcnJheShwYXJhbXMpIHtcblx0XHQvL2xvY2FsIHZhcmlhYmxlc1xuXG5cdFx0Ly9jb25zb2xlLmxvZygnZ290IHRoZXNlIHBhcmFtcycsIHN0YXJ0LCBlbmQpO1xuXG5cdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vYWNjZXNzIGRhdGEgc2VydmljZVxuXHRcdFx0ZGF0YVNlcnZpY2Uuc2FsZXNfZGF5cy5jb21waWxlX2JhdGNoKHBhcmFtcykudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnc3VjY2VzcycsIHMpO1xuXHRcdFx0XHRyZXNvbHZlKHMpO1xuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdlcnJvcicsIGUpO1xuXHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHR9KTtcblxuXHRcdH0pO1xuXG5cdH07XG5cblxuXHQvKlxuXHQqXHRWSUVXIE1PREVMIEZVTkNUSU9OUyBHTyBIRVJFXG5cdCpcblx0Ki9cblx0Ly9cdFVQREFURSBSRUNPUkRcblx0dm0udXBkYXRlUmVjb3JkID0gZnVuY3Rpb24ocmVjb3JkX2lkKSB7XG5cdFx0Y29uc29sZS5sb2coJ2dvdCB0aGlzIGlkJywgcmVjb3JkX2lkKTtcblx0XHQvKnZtLnNhbGVzZGF5c0xpc3QuJHNhdmUocmVjb3JkX2lkKS50aGVuKGZ1bmN0aW9uIHN1Y2NlcyhzKSB7XG5cdFx0XHRjb25zb2xlLmxvZygndXBkYXRlZCByZWNvcmQgc3VjY2Vzc2Z1bGx5Jyk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yIHVwZGF0aW5nIHJlY29yZCcsIGUpO1xuXHRcdH0pOyovXG5cdH07XG5cblx0Ly8gQUREIE5FVyBTQUxFUyBEQVlcblx0dm0uYWRkU2FsZXNEYXkgPSBmdW5jdGlvbigpIHtcblxuXHRcdHZtLnNhbGVzZGF5c0xpc3QuJGFkZCh7XG5cdFx0XHRkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRzY2hlZHVsZToge1xuXHRcdFx0XHRsb2FkX2luOiB7XG5cdFx0XHRcdFx0ZGF0ZXRpbWU6IFwiXCIsXG5cdFx0XHRcdFx0c2FsZXNfZGF5X2lkOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGxvYWRfb3V0OiB7XG5cdFx0XHRcdFx0ZGF0ZXRpbWU6IFwiXCIsXG5cdFx0XHRcdFx0c2FsZXNfZGF5X2lkOiBcIlwiXG5cdFx0XHRcdH0sXG5cdFx0XHRcdG9wZW46IFwiXCIsXG5cdFx0XHRcdGNsb3NlOiBcIlwiLFxuXHRcdFx0XHRzYWxlc19zdGFydDogXCJcIixcblx0XHRcdFx0c2FsZXNfZW5kOiBcIlwiXG5cdFx0XHR9LFxuXHRcdFx0Y3VzdG9tZXI6IFwiXCIsXG5cdFx0XHRzZWFzb246IHtcblx0XHRcdFx0bmFtZTogXCJcIixcblx0XHRcdFx0ZnJlcXVlbmN5OiBcIlwiLFxuXHRcdFx0XHRpbnN0YW5jZTogMCxcblx0XHRcdFx0dG90YWw6IDBcblx0XHRcdH1cblx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0Ly9zZXQgdGhlIGZpcmViYXNlIG9iamVjdFxuXHRcdFx0Y29uc29sZS5sb2cocy5rZXkpO1xuXHRcdFx0dm0uc2VsZWN0ZWRSZWNvcmQgPSAkZmlyZWJhc2VPYmplY3QoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgnc2FsZXNfZGF5cycpLmNoaWxkKHMua2V5KSk7XG5cdFx0XHRjb25zb2xlLmxvZyh2bS5zZWxlY3RlZFJlY29yZCk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZSk7XG5cdFx0fSk7XG5cblx0XHQvKnZtLnNhbGVzZGF5c0xpc3Quc2F2ZSgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnc3VjY2VzcycsIHMpO1xuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicsIGUpO1xuXHRcdH0pOyovXG5cblx0fTtcblxuXHQvLyBHRU5FUkFURSBTQUxFUyBEQVlTXG5cdHZtLmdlbmVyYXRlU2FsZXNEYXlzID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cblx0XHQvL25vdGlmeSBvZiBsb2NhdGlvblxuXHRcdC8vY29uc29sZS5sb2coJ2dlbmVyYXRpbmcgU2FsZXMgZGF5cycsIHZtLnNjaGVkdWxpbmdfcGFyYW1zKTtcblxuXHRcdGJ1aWxkX3NhbGVzX2RheXNfYXJyYXkodm0uc2NoZWR1bGluZ19wYXJhbXMpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnc3VjY2Vzc2Z1bGx5IGJ1aWx0Jywgcyk7XG5cdFx0XHR2bS50ZW1wSXRlcmF0aW9ucyA9IHM7XG5cdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coZSk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQvL1x0Rk9STUFUIFRJTUVcblx0dm0uZm9yYW10VGltZSA9IGZ1bmN0aW9uKHNlY3Rpb24pIHtcblx0XHRcblx0XHQvL25vdGlmeSBvZiBwcm9ncmVzc1xuXHRcdGNvbnNvbGUubG9nKCdmb3JtYXR0aW5nIHRpbWUnLCBzZWN0aW9uKTtcblxuXHRcdC8vc3BsaXQgdGltZVxuXHRcdHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG5cdFx0dmFyIHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpO1xuXHRcdHZhciBtb250aCA9IHRvZGF5LmdldE1vbnRoKCk7XG5cdFx0dmFyIGRheSA9IHRvZGF5LmdldERhdGUoKTtcblx0XHRcblxuXHRcdHZhciB0aW1lU3BsaXQgPSB2bS50ZW1wVGltZXNbc2VjdGlvbl0uc3BsaXQoXCI6XCIpO1xuXHRcdHZhciBtaW5TcGxpdCA9IHRpbWVTcGxpdFsxXS5zcGxpdChcIiBcIik7XG5cdFx0dmFyIGhvdXIgPSBwYXJzZUludCh0aW1lU3BsaXRbMF0pO1xuXHRcdHZhciBtaW51dGUgPSBtaW5TcGxpdFswXTtcblx0XHR2YXIgdGltZURheSA9IG1pblNwbGl0WzFdO1xuXG5cdFx0Ly9mb3JtYXQgYWNjb3JkaW5nbHlcblx0XHRpZih0aW1lRGF5ID09IFwiUE1cIikgeyBob3VyICs9IDEyOyBob3VyLnRvU3RyaW5nKCk7IH1cblx0XHRpZihtb250aCA8IDEwKSBtb250aCA9IFwiMFwiICsgbW9udGg7XG5cdFx0aWYoZGF5IDwgMTApIGRheSA9IFwiMFwiICsgZGF5O1xuXHRcdGlmKGhvdXIgPCAxMCkgaG91ciA9IFwiMFwiICsgaG91cjtcblx0XHQvL2lmKG1pbnV0ZSA8IDEwKSBtaW4gPSBcIjBcIiArIG1pbnV0ZTtcblx0XHRcblxuXHRcdC8vY29uc29sZS5sb2codG9kYXksICdob3VyJywgaG91ciwgJ21pbnV0ZScsIG1pbnV0ZSwgJ3RpbWVEYXknLCB0aW1lRGF5KTtcblxuXHRcdC8vdm0uc2NoZWR1bGluZ19wYXJhbXMuc2NoZWR1bGVbc2VjdGlvbl0gPSBcIjIwMTgtMDUtMDVUMDY6MDA6MDAtMDc6MDBcIlxuXHRcdHZtLnNjaGVkdWxpbmdfcGFyYW1zLnNjaGVkdWxlW3NlY3Rpb25dID0geWVhciArIFwiLVwiICsgbW9udGggKyBcIi1cIiArICBkYXkgKyBcIlRcIiArICBob3VyICsgXCI6XCIgKyBtaW51dGUgKyBcIjowMC0wNzowMFwiXG5cdH07XG5cblx0Ly8gXHRTQVZFIFNBTEVTIERBWVNcblx0dm0uc2F2ZVNhbGVzRGF5cyA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHQvL2l0ZXJhdGUgdGhyb3VnaCBhbGwgdGhlIHNhbGVzIGRheXMsIHNhdmluZyB0byB0aGUgREJcblx0XHR2bS50ZW1wSXRlcmF0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChjbWVfaXRlcmF0aW9uKSB7XG5cblx0XHRcdHZtLnNhbGVzZGF5c0xpc3QuJGFkZChjbWVfaXRlcmF0aW9uKS50aGVuKGZ1bmN0aW9uIChyZWYpIHtcblx0XHRcdFx0Ly9nZXQgdGhlIG5ldyBrZXlcblx0XHRcdFx0dmFyIGlkID0gcmVmLmtleTtcblxuXHRcdFx0XHQvL3NhdmUgaXQgdG8gdGhlIGRiIG9iamVjdFxuXHRcdFx0XHRjb25zb2xlLmxvZyhpZCk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0XHQvL29uY2UgdGhleSBoYXZlIGFsbCBiZW4gc2F2ZWQgXG5cblx0XHQvL3ZtLnNhbGVzZGF5c0xpc3QuJGFkZCh7bmFtZTogJ3Rlc3QnfSk7XHRcblx0fTtcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cbn0iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuY29udHJvbGxlcignc3F1YXJlVHhzQ29udHJvbGxlcicsIHNxdWFyZVR4c0NvbnRyb2xsZXIpO1xuXG5zcXVhcmVUeHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsJyRsb2cnLCAnJHJvdXRlUGFyYW1zJywgJyRmaXJlYmFzZScsICckZmlyZWJhc2VPYmplY3QnLCAnJGZpcmViYXNlQXJyYXknLCAnZGF0YVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzcXVhcmVUeHNDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJHJvdXRlUGFyYW1zLCAkZmlyZWJhc2UsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXksIGRhdGFTZXJ2aWNlKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHR2YXIgeWVzdGVyZGF5ID0gbW9tZW50KG5ldyBEYXRlKCkpLnN1YnRyYWN0KDEsIFwiZGF5XCIpO1xuXHRcblx0Ly9kZWZpbmUgdmlld21vZGVsIHZhcmlhYmxlc1xuXHQvL3ZtLmhpZ2hsaWdodGVkRGF0ZSA9IHllc3RlcmRheS5mb3JtYXQoXCJNTS1ERC1ZWVlZXCIpO1xuXHR2bS5zZWxlY3RlZExvY2F0aW9uID0ge1xuXHRcdG5hbWU6XCJPcmVnb25cIixcblx0XHRpZDogXCJcIlxuXHR9O1xuXHR2bS5zZWxlY3RlZERhdGUgPSBuZXcgRGF0ZSh5ZXN0ZXJkYXkuZm9ybWF0KFwiTU0tREQtWVlZWVwiKSk7XG5cdHZtLmRheUhycyA9IFsxLCAyLCAzLCA0LCA1LDYsIDcsIDgsIDksIDEwLCAxMSwgMTIsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDksIDEwLCAxMSwgMTJdO1xuXHR2bS5zcXJMb2NhdGlvbnMgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdyZWZlcmVuY2VfbGlzdHMvc3FyX2xvY2F0aW9ucycpKTtcblx0dm0uZGF5c3RyYW5zYWN0aW9ucyA9IFtdO1xuXG5cdC8vbm90aWZ5IHByb2dyZXNzXG5cdCRsb2cuaW5mbygnaW4gYSBzcXVhcmUgVHhzIGNvbnRyb2xsZXInLCB5ZXN0ZXJkYXkuZm9ybWF0KCkpO1x0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cblx0Ly9kZWZpbmUgbG9jYWwgZnVuY3Rpb25zXG5cdFxuXHRmdW5jdGlvbiB1cGRhdGVUeExpc3QoKSB7XG5cdFx0dmFyIGVuZE9mRGF5ID0gbW9tZW50KHZtLnNlbGVjdGVkRGF0ZSkuaG91cnMoMjMpLm1pbnV0ZXMoNTkpLnNlY29uZHMoNTkpLmZvcm1hdCgpO1xuXHRcdHZhciBzdGFydE9mRGF5ID0gbW9tZW50KHZtLnNlbGVjdGVkRGF0ZSkuZm9ybWF0KCk7XG5cdFx0ZGF0YVNlcnZpY2Uuc3FyX3R4cy5mdWxsX2RheShcblx0XHRcdHZtLnNlbGVjdGVkTG9jYXRpb24uaWQsIFxuXHRcdFx0c3RhcnRPZkRheSxcblx0XHRcdGVuZE9mRGF5XG5cdFx0KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0Y29uc29sZS5sb2coJ2dvdCBhIHJlc3BvbnNlIHdpdGgnLCBzLmxlbmd0aCwgXCJyZWNvcmRzXCIpO1xuXHRcdFx0dm0uZGF5c3RyYW5zYWN0aW9ucyA9IHM7XG5cdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ0VSUk9SJywgZSk7XG5cdFx0fSk7XG5cdH07XG5cblx0ZnVuY3Rpb24gZGVmaW5lTG9jYXRpb24oKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyYWlhYmxlc1xuXHRcdFxuXHRcdC8vbWFrZSBzdXJlIGxvY2F0aW9ucyBvYmplY3QgaXMgbG9hZGVkXG5cdFx0dm0uc3FyTG9jYXRpb25zLiRsb2FkZWQoKS50aGVuKGZ1bmN0aW9uKGFsbExvY2F0aW9ucykge1xuXHRcdFx0XHRcblx0XHRcdC8vaXRlcmF0ZSB0aHJvdWdoIGFsbCBsb2NhdGlvbnNcblx0XHRcdGFsbExvY2F0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGxvY2F0aW9uKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHRpZihsb2NhdGlvbi5uYW1lID09IHZtLnNlbGVjdGVkTG9jYXRpb24ubmFtZSkgdm0uc2VsZWN0ZWRMb2NhdGlvbi5pZCA9IGxvY2F0aW9uLnNxcl9pZDtcblx0XHRcdH0pO1xuXG5cdFx0XHQvL3RoZW4gcnVuIHRoZSBkYXRhIHNlcnZpY2Vcblx0XHRcdHVwZGF0ZVR4TGlzdCgpO1xuXHRcdH0pO1xuXG5cdH07XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCBmdW5jdGlvbnNcblx0dm0uZGF5Q2hhbmdlID0gZnVuY3Rpb24oZGlyZWN0aW9uKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGRpckhhc2ggPSB7XCItXCI6MCwgXCIrXCI6MX07XG5cdFx0dmFyIGN1cnJlbnREYXRlID0gbW9tZW50KG5ldyBEYXRlKHZtLnNlbGVjdGVkRGF0ZSkpO1xuXG5cdFx0c3dpdGNoKGRpckhhc2hbZGlyZWN0aW9uXSkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHRjdXJyZW50RGF0ZS5zdWJ0cmFjdCgxLFwiZGF5XCIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgMTpcblx0XHRcdFx0Y3VycmVudERhdGUuYWRkKDEsXCJkYXlcIilcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9O1xuXG5cdFx0dm0uc2VsZWN0ZWREYXRlID0gbmV3IERhdGUoY3VycmVudERhdGUuZm9ybWF0KFwiTU0tREQtWVlZWVwiKSk7XG5cblx0XHR1cGRhdGVUeExpc3QoKTtcblx0fVxuXG5cdHZtLmNvdW50VHggPSBmdW5jdGlvbih0eEFycmF5KSB7XG5cdFx0dmFyIG5ld0NvdW50ID0gbmV3IHN1bSh0eEFycmF5Lmxlbmd0aCk7XG5cdFx0cmV0dXJuIG5ld0NvdW50O1xuXHR9XG5cblx0dm0uc3VtVHggPSBmdW5jdGlvbih0eEFycmF5KSB7XG5cdFx0dmFyIGNvdW50ZXIgPSAwXG5cdFx0dmFyIHN1bSA9IDA7XG5cblx0XHQvL2l0ZXJhdGUgdGhyb3VnaCBhbGwgaXRlbXNcblx0XHR0eEFycmF5LmZvckVhY2goZnVuY3Rpb24odHgpIHtcblx0XHRcdGNvbnNvbGUubG9nKGNvdW50ZXIsIHR4Lmdyb3NzX3NhbGVzX21vbmV5LmFtb3VudCk7XG5cdFx0XHRzdW0gKz0gdHguZ3Jvc3Nfc2FsZXNfbW9uZXkuYW1vdW50XG5cdFx0XHRjb3VudGVyKys7XG5cdFx0fSlcblxuXHRcdGNvbnNvbGUubG9nKCdzdW0nLCBzdW0pO1xuXG5cdFx0cmV0dXJuIFwiXCI7XG5cdH1cblxuXHQvL3J1biB0aGUgdGVzdFxuXHRcblx0ZGVmaW5lTG9jYXRpb24oKTtcbn0iLCIvKlxuKlx0Uk9VVEVTLUNPTkZJR1xuKlxuKlx0VGhpcyBtb2R1bGUgc2V0cyB1cCBhbGwgdGhlIHJlcXVpcmVkIGFuZ3VsYXIgcm91dGVzIGZvciB0aGlzIHdlYiBhcHAuXG4qL1xuYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NuZScpXG4gICAgLmNvbmZpZyhjb25maWcpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGNvbmZpZygkcm91dGVQcm92aWRlciwgJGxvY2F0aW9uUHJvdmlkZXIpIHtcblx0JGxvY2F0aW9uUHJvdmlkZXIuaGFzaFByZWZpeCgnJyk7XG4gICAgJHJvdXRlUHJvdmlkZXJcblx0Ly9QVUJMSUMgUk9VVEVTXG4gICAgLndoZW4oJy8nLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvbGFuZGluZ1BhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsYW5kaW5nQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2N1c3RvbWVycycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jdXN0b21lcnNQYWdlLmh0bScsICAgICAgLy8ndmlld3MvbWFpblBhZ2UuaHRtJ1xuICAgICAgICBjb250cm9sbGVyOiAnY3VzdG9tZXJzQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nLFxuICAgICAgICByZXNvbHZlOiB7IC8qIEBuZ0luamVjdCAqL1xuICAgICAgICAgICAgY3VzdG9tZXJMaXN0OiBjdXN0b21lckxpc3RcbiAgICAgICAgfVxuICAgIH0pXG4gICAgLndoZW4oJy9zYWxlc2RheXMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc2FsZXNEYXlzUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ3NhbGVzRGF5c0NvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9zYWxlc2RheXMvOnNhbGVzZGF5aWQnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvYVNhbGVzZGF5UGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ2FTYWxlc2RheUNvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9jYXNoX2RyYXdlcl9hc3NpZ25tZW50cycsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jYXNoRHJhd2VyQXNzaWdubWVudHNQYWdlLmh0bScsICAgICAgLy8ndmlld3MvbWFpblBhZ2UuaHRtJ1xuICAgICAgICBjb250cm9sbGVyOiAnY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSkgICBcbiAgICAud2hlbignL3NxdWFyZV90eHMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3Mvc3F1YXJlVHhzUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ3NxdWFyZVR4c0NvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pICBcbiAgICAud2hlbignL2xvZ2luJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xvZ2luUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ2xvZ2luQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcbiAgICAud2hlbignL2NtZV9zY2hlZHVsZScsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9jbWVTY2hlZHVsaW5nUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ2NtZVNjaGVkdWxlQ29udHJvbGxlcicsICAgICAgICAgICAvLydtYWluQ29udHJvbGxlcidcbiAgICAgICAgY29udHJvbGxlckFzOiAndm0nXG4gICAgfSlcblx0Lm90aGVyd2lzZSh7XG4gICAgICAgIHJlZGlyZWN0VG86ICcvJ1xuICAgIH0pO1xufVxuXG4vKlxuKiAgIFJFUVVJUkVEIEZVTkNUSU9OU1xuKlxuKi9cblxuLy8gIENVU1RPTUVSUyBMSVNUXG5mdW5jdGlvbiBjdXN0b21lckxpc3QoKSB7XG4gICAgXG4gICAgLy9yZXR1cm4gdGhlIHByb21pc2VcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIC8vaGl0IHRoZSBzZXJ2ZXIgZm9yIHRoZSBcbiAgICAgICAgcmVzb2x2ZSgnZ29vZCB0ZXN0Jyk7XG4gICAgfSk7XG5cbn07XG5cbiIsIi8qXG4qXHRDVVNUT01FUiBMSVNUXG4qXG4qXHRUaGlzIG1vZHVsZSBpcyBkZXNpZ25lZCB0byBcbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnY25lJylcblx0LmRpcmVjdGl2ZSgnY3VzdG9tZXJMaXN0JywgY3VzdG9tZXJMaXN0KTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjdXN0b21lckxpc3QoKSB7XG5cdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2N1c3RvbWVyLWxpc3QuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogY3VzdG9tZXJMaXN0Q29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblxuXHRjdXN0b21lckxpc3RDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG5cdFxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gY3VzdG9tZXJMaXN0Q29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRjb25zb2xlLmxvZygnaW4gY29zdG9tZXIgTGlzdCBjb250cm9sbGVyJyk7XG5cdH1cblxuXHQvL3Bhc3MgaXQgYmFja1xuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsIi8qXG4qXHRTQUxFUyBEQVkgVFJBTlNBQ1RJT05TXG4qXG4qXHRUaGlzIG1vZHVsZSBpcyBkZXNpZ25lZCB0byBcbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnY25lJylcblx0LmRpcmVjdGl2ZSgnY3VzdG9tZXJTYWxlc0RheXMnLCBjdXN0b21lclNhbGVzRGF5cyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY3VzdG9tZXJTYWxlc0RheXMoKSB7XG5cdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2N1c3RvbWVyLXNhbGVzLWRheXMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0c2FsZXNkYXlzTGlzdDogXCI9XCIsXG5cdFx0XHRzYWxlc2RheVNlbGVjdGVkOiAnPSdcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGN1c3RvbWVyU2FsZXNEYXlzQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge1xuXG5cdFx0Ly91cGRhdGUgdGhlIHNhbGVzZGF5c0xpc3Qgd2hlbiBhIG5ldyBjdXN0b21lciBpcyBzZWxlY3RlZFxuXHRcdHNjb3BlLiR3YXRjaCgndm0uc2FsZXNkYXlzTGlzdCcsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xuXHRcdFx0XG5cdFx0XHQvL3dhdGNoIGZvciBhIG5ldyB2YWx1ZVxuXHRcdFx0aWYobmV3VmFsdWUpIHtcblx0XHRcdFx0XG5cdFx0XHRcdC8vaWYgdGhlIHZhbHVlIGNoYW5nZXMgZG93bmxvYWQgdGhlIHJlcXVpcmVkIHZhbHVlc1xuXHRcdFx0XHRzY29wZS5sb2FkU2FsZURheXMoKTtcblxuXHRcdFx0fVxuXG5cdFx0fSwgdHJ1ZSk7XG5cblx0fTtcblxuXHRjdXN0b21lclNhbGVzRGF5c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnZmlyZWJhc2VTZXJ2aWNlJ107XG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBjdXN0b21lclNhbGVzRGF5c0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBmaXJlYmFzZVNlcnZpY2UpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdm0gPSB0aGlzO1xuXHRcdHZtLmRldGFpbGVkU2FsZXNEYXlzTGlzdCA9IFtdO1xuXG5cdFx0Y29uc29sZS5sb2coJ2luIHRoZSBjdXN0b21lclNhbGVzRGF5c0NvbnRyb2xsZXInKTtcblxuXHRcdGZ1bmN0aW9uIGxvYWRBVHgoaWQpIHtcblx0XHRcdHZhciBwYXRoID0gJ3NhbGVzX2RheXMvJyArIGlkO1xuXG5cdFx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdFx0Ly9jb2xsZWN0ZWQgZGF0YVxuXHRcdFx0XHRmaXJlYmFzZVNlcnZpY2UuZ2V0LmFfcmVjb3JkKHBhdGgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRcdFx0cmVzb2x2ZShzKTtcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0Ly9kZWZpbmUgc2NvcGUgdmFyaWFibGVzXG5cdFx0Ly9cdExPQUQgU0FMRURBWVNcblx0XHQkc2NvcGUubG9hZFNhbGVEYXlzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZhciBhbGxQcm9taXNlcyA9IFtdO1xuXG5cdFx0XHQvL2l0ZXJhdGUgdGhyb3VnaCBhbGwgdmFsdWVzXG5cdFx0XHRPYmplY3Qua2V5cyh2bS5zYWxlc2RheXNMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7XG5cblx0XHRcdFx0YWxsUHJvbWlzZXMucHVzaChsb2FkQVR4KHZtLnNhbGVzZGF5c0xpc3Rba2V5XSkpO1xuXG5cdFx0XHR9KTtcblxuXHRcdFx0Ly9ydW4gYWxsIHByb21pc2VzXG5cdFx0XHRQcm9taXNlLmFsbChhbGxQcm9taXNlcykudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnYWxsIHByb21pc2VzIHJldHVybmVkJywgcyk7XG5cdFx0XHRcdHZtLmRldGFpbGVkU2FsZXNEYXlzTGlzdCA9IHNcblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJyxlKTtcblx0XHRcdH0pO1xuXG5cblx0XHR9O1xuXG5cdFx0Ly9cdFNBTEVTIERBWSBTRUxFQ1RFRFxuXHRcdCRzY29wZS5zYWxlc0RheVNlbGVjdGVkID0gZnVuY3Rpb24oaW5kZXgpIHsgXG5cdFx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcdHZtLnNhbGVzZGF5U2VsZWN0ZWQgPSB2bS5kZXRhaWxlZFNhbGVzRGF5c0xpc3RbaW5kZXhdLiRpZDtcblx0XHRcdC8vY29uc29sZS5sb2codm0uc2FsZXNkYXlzTGlzdFtpbmRleF0pO1xuXHRcdH1cblxuXHR9XG5cblx0Ly9wYXNzIGl0IGJhY2tcblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCIvKlxuKlx0RkxBVk9SIE1JWEVSXG4qXG4qXHRUaGlzIG1vZHVsZSBpcyBkZXNpZ25lZCB0byBhbGxvdyBjdXN0b21lcnMgdG8gbWl4IGFuZCBtYXRjaFxuKlx0b3VyIGRlbGljaW91cyBmbGF2b3JzIGFuZCB0byBwaWNrIHRoaWVyIHNpemluZy5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnY25lJylcblx0LmRpcmVjdGl2ZSgnbG9naW5QYXNzd29yZCcsIGxvZ2luUGFzc3dvcmQpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvZ2luUGFzc3dvcmQoKSB7XG5cdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvZ2luLXBhc3N3b3JkLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHBhc3N3b3JkOiBcIj1cIixcblx0XHRcdGFjdGl2ZTogXCI9XCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvZ2luUGFzc3dvcmRDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXG5cdGxvZ2luUGFzc3dvcmRDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsb2dpblBhc3N3b3JkQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdH1cblxuXHQvL3Bhc3MgaXQgYmFja1xuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsIi8qXG4qXHRGTEFWT1IgTUlYRVJcbipcbipcdFRoaXMgbW9kdWxlIGlzIGRlc2lnbmVkIHRvIGFsbG93IGN1c3RvbWVycyB0byBtaXggYW5kIG1hdGNoXG4qXHRvdXIgZGVsaWNpb3VzIGZsYXZvcnMgYW5kIHRvIHBpY2sgdGhpZXIgc2l6aW5nLlxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdjbmUnKVxuXHQuZGlyZWN0aXZlKCdsb2dpblVzZXJuYW1lJywgbG9naW5Vc2VybmFtZSk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gbG9naW5Vc2VybmFtZSgpIHtcblx0Ly9kZWZpbmUgdGhlIGRpcmVjdGl2ZVxuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvbG9naW4tdXNlcm5hbWUuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dXNlcm5hbWU6IFwiPVwiLFxuXHRcdFx0YWN0aXZlOiBcIj1cIlxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogbG9naW5Vc2VybmFtZUNvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cblx0bG9naW5Vc2VybmFtZUNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnXTtcblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxvZ2luVXNlcm5hbWVDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBzZWxmID0gdGhpcztcblx0fVxuXG5cdC8vcGFzcyBpdCBiYWNrXG5cdHJldHVybiBkaXJlY3RpdmU7XG59IiwiLypcbipcdFNBTEVTIERBWSBUUkFOU0FDVElPTlNcbipcbipcdFRoaXMgbW9kdWxlIGlzIGRlc2lnbmVkIHRvIFxuKi9cblxuYW5ndWxhclxuXHQubW9kdWxlKCdjbmUnKVxuXHQuZGlyZWN0aXZlKCdzYWxlc0RheVR4cycsIHNhbGVzRGF5VHhzKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBzYWxlc0RheVR4cygpIHtcblx0Ly9kZWZpbmUgdGhlIGRpcmVjdGl2ZVxuXHR2YXIgZGlyZWN0aXZlID0ge1xuXHRcdHJlc3RyaWN0OiBcIkFFQ01cIixcblx0XHR0ZW1wbGF0ZVVybDogJ3ZpZXdzL2RpcmVjdGl2ZXMvc2FsZXMtZGF5LXRyYW5zYWN0aW9ucy5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHR0eHNMaXN0OiBcIj1cIixcblx0XHRcdHNhbGVzZGF5U2VsZWN0ZWQ6ICc9J1xuXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBzYWxlc0RheVR4c0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuXHRcdC8vdXBkYXRlIHRoZSBzYWxlc2RheXNMaXN0IHdoZW4gYSBuZXcgY3VzdG9tZXIgaXMgc2VsZWN0ZWRcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLnNhbGVzZGF5U2VsZWN0ZWQnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcblx0XHRcdFxuXHRcdFx0Ly93YXRjaCBmb3IgYSBuZXcgdmFsdWVcblx0XHRcdGlmKG5ld1ZhbHVlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL2lmIHRoZSB2YWx1ZSBjaGFuZ2VzIGRvd25sb2FkIHRoZSByZXF1aXJlZCB2YWx1ZXNcblx0XHRcdFx0Ly9jb25zb2xlLmxvZygnc2FsZXNEYXkgU2VsZWN0ZWQnKTtcblx0XHRcdFx0c2NvcGUubG9hZFNEVHhzKCk7XG5cblx0XHRcdH1cblxuXHRcdH0sIHRydWUpO1xuXG5cdH1cblxuXHRzYWxlc0RheVR4c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywgJyRsb2cnLCAnZmlyZWJhc2VTZXJ2aWNlJ107XG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBzYWxlc0RheVR4c0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBmaXJlYmFzZVNlcnZpY2UpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgdm0gPSB0aGlzO1xuXHRcdHZtLnByb21pc2VMaXN0ID0gW107XG5cdFx0dm0uZGV0YWlsZWRUeExpc3QgPSBbXTtcblxuXHRcdGNvbnNvbGUubG9nKCdpbiB0aGUgc2FsZXNEYXlUeHNDb250cm9sbGVyJyk7XG5cblx0XHRmdW5jdGlvbiBsb2FkQVJjcmQocGF0aCwgaWQpIHtcblx0XHRcdHZhciBwYXRoID0gcGF0aCArIGlkO1xuXG5cdFx0XHQvL2NvbnNvbGUubG9nKCdsb2FkQVJjcmQnLCBwYXRoKVxuXG5cdFx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdFx0Ly9jb2xsZWN0ZWQgZGF0YVxuXHRcdFx0XHRmaXJlYmFzZVNlcnZpY2UuZ2V0LmFfcmVjb3JkKHBhdGgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZygnZ290IHRoaXMgcmVjb3JkJywgcyk7XG5cdFx0XHRcdFx0cmVzb2x2ZShzKTtcblx0XHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH0pO1xuXG5cdFx0fVxuXG5cdFx0Ly9cdERFRklORSBTQUxFUyBEQVlTIFRSQU5TQUNUSU9OU1xuXHRcdCRzY29wZS5sb2FkU0RUeHMgPSBmdW5jdGlvbigpIHtcblx0XHRcdC8vY29uc29sZS5sb2coJ2xvYWRpbmcgc2QgdHhzJywgdm0uc2FsZXNkYXlTZWxlY3RlZCk7XG5cblx0XHRcdC8vXG5cdFx0XHRsb2FkQVJjcmQoXCJzYWxlc19kYXlzL1wiLCB2bS5zYWxlc2RheVNlbGVjdGVkKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MoZGV0YWlsZWREYXkpIHtcblx0XHRcdFx0XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2RldGFpbGVkRGF5JywgZGV0YWlsZWREYXkuJHJlc29sdmVkKTtcblx0XHRcdFx0Ly9JdGVyYXRlIG92ZXIgYWxsIG9mIHRoZSB0cmFuc2FjdGlvbnNcblx0XHRcdFx0T2JqZWN0LmtleXMoZGV0YWlsZWREYXkudHJhbnNhY3Rpb25zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coZGV0YWlsZWREYXkudHJhbnNhY3Rpb25zW2tleV0pO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdGlmKGRldGFpbGVkRGF5LnRyYW5zYWN0aW9uc1trZXldICE9IFwicGxhY2Vob2xkZXJcIikge1xuXHRcdFx0XHRcdFx0dm0ucHJvbWlzZUxpc3QucHVzaChsb2FkQVJjcmQoXCJ0cmFuc2FjdGlvbnMvXCIsIGRldGFpbGVkRGF5LnRyYW5zYWN0aW9uc1trZXldKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFxuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRQcm9taXNlLmFsbCh2bS5wcm9taXNlTGlzdCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKHMpO1xuXHRcdFx0XHRcdHZtLmRldGFpbGVkVHhMaXN0ID0gcztcblx0XHRcdFx0XHQkc2NvcGUuJGFwcGx5KCk7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImVycm9yXCIsIGUpO1xuXHRcdFx0XHR9KTtcblxuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicsIGUpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblx0fVxuXG5cdC8vcGFzcyBpdCBiYWNrXG5cdHJldHVybiBkaXJlY3RpdmU7XG59IiwiLypcbipcdEJBQ0tFTkQgREFUQSBTRVJWSUNFXG4qXG4qL1xuXG4vL2RlZmluZSBtb2R1bGVcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5mYWN0b3J5KCdkYXRhU2VydmljZScsIGRhdGFTZXJ2aWNlKTtcblxuLy9kZXBlbmRlbmN5IGluamVjdGlvbnNcbmRhdGFTZXJ2aWNlLiRpbmplY3QgPSBbJyRodHRwJ107XG5cbi8vZGVjbGFyZSB0aGUgc2VydmljZVxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBkYXRhU2VydmljZSgkaHR0cCkge1xuXG5cdC8vZGVmaW5lIG1ldGhvZHNcblx0dmFyIGRhdGFTZXJ2aWNlID0ge1xuXHRcdHNxcl90eHM6IHtcblx0XHRcdGZ1bGxfZGF5OiBzcXJfdHhzX2RheVxuXHRcdH0sXG5cdFx0c2FsZXNfZGF5czoge1xuXHRcdFx0Y29tcGlsZV9iYXRjaDogY29tcGlsZV9uZXdfc2FsZXNfZGF5X2JhdGNoXG5cdFx0fVxuXHR9O1xuXG5cdC8vXHRURVNUIEZVTkNUSU9OXG5cdGZ1bmN0aW9uIGNvbXBpbGVfbmV3X3NhbGVzX2RheV9iYXRjaChwYXJhbXMpIHtcblx0XHRcblx0XHQvL2NvbnNvbGUubG9nKCd0ZXN0aW5nIGRhdGFTZXJ2aWNlJyk7XG5cblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdFx0XHQvL3RyeSBQT1NUXG5cdFx0XHQkaHR0cCh7XG5cdFx0XHRcdG1ldGhvZDogJ1BPU1QnLFxuXHRcdFx0XHR1cmw6ICcvYXBpL3NhbGVzX2RheXMvY29tcGlsZV9uZXdfc2FsZXNfZGF5c19iYXRjaCcsXG5cdFx0XHRcdGhlYWRlcnM6IHtcblx0XHRcdFx0XHQnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG5cdFx0XHRcdH0sXHRcblx0XHRcdFx0ZGF0YTogcGFyYW1zXG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHR9O1xuXG5cdC8vU1FVQVJFIFRSQU5TQUNUSU9OIERBWVNcblx0ZnVuY3Rpb24gc3FyX3R4c19kYXkobG9jYXRpb24sIHN0YXJ0RGF0ZSwgZW5kRGF0ZSkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdHZhciBwb3N0T2JqZWN0ID0ge1xuXHRcdFx0bG9jYXRpb246IGxvY2F0aW9uLFxuXHRcdFx0c3RhcnQ6IHN0YXJ0RGF0ZSxcblx0XHRcdGVuZDogZW5kRGF0ZVxuXHRcdH07XG5cblx0XHRjb25zb2xlLmxvZygnZ2V0dGluZyBkYXlcXCdzIFRyYW5zYWN0aW9ucycpO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly90cnkgUE9TVFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAnL3NxdWFyZXBvcy90eHMnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFxuXHRcdFx0XHRkYXRhOiBwb3N0T2JqZWN0XG5cdFx0XHR9KS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3NDYWxsYmFjayhyZXNwb25zZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0cmVzb2x2ZShyZXNwb25zZS5kYXRhKTtcblx0XHRcdFx0XG5cdFx0XHR9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKGVycm9yKSB7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHR9XG5cblx0Ly90dXJuIHRoZSBtZXRob2RcbiAgICByZXR1cm4gZGF0YVNlcnZpY2U7XHRcbn07XG5cbiIsIi8qXG4qXG4qXG4qL1xuXG4vL2RlZmluZSBtb2R1bGVcbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5mYWN0b3J5KCdmaXJlYmFzZVNlcnZpY2UnLCBmaXJlYmFzZVNlcnZpY2UpO1xuXG4vL2RlcGVuZGVuY3kgaW5qZWN0aW9uc1xuZmlyZWJhc2VTZXJ2aWNlLiRpbmplY3QgPSBbJyRmaXJlYmFzZScsICckZmlyZWJhc2VPYmplY3QnLCAnJGZpcmViYXNlQXJyYXknXTtcblxuLy9kZWNsYXJlIHRoZSBzZXJ2aWNlXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGZpcmViYXNlU2VydmljZSgkZmlyZWJhc2UsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXkpIHtcblxuXHQvL2RlZmluZSBtZXRob2RzXG5cdHZhciBGQlNlcnZpY2UgPSB7XG5cdFx0Z2V0OiB7XG5cdFx0XHRjdXN0b21lcl9saXN0OiBnZXRfY3VzdG9tZXJfbGlzdCxcblx0XHRcdGFfcmVjb3JkOiBnZXRfYV9yZWNvcmRcblx0XHR9LFxuXHRcdGF1dGhVc2VyOiB7XG5cdFx0XHRlbWFpbDogYXV0aFVzZXJfZW1haWxcblx0XHR9LFxuXHRcdGNvbXBpbGU6IHtcblx0XHRcdGN1c3RvbWVyX3NhbGVzX2RheXM6IGNvbXBpbGVfY3VzdG9tZXJfc2FsZXNfZGF5c1xuXHRcdH0sXG5cdFx0dGVzdDogdGVzdFxuXHR9O1xuXG5cdC8vXHRBVVRIRU5USUNBVEUgVVNFUlxuXHRmdW5jdGlvbiBhdXRoVXNlcl9lbWFpbChlbWFpbCwgcGFzc3dvcmQpIHtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnYXV0aGVudGljYXRpbmcgdXNlcicpXG5cblx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcblxuXHRcdFx0ZmlyZWJhc2UuYXV0aCgpLnNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCkudGhlbihmdW5jdGlvbiBzdWNlc3Mocykge1xuXG5cdFx0XHRcdHJlc29sdmUocyk7XG5cblx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XG5cdFx0XHRcdC8vIEhhbmRsZSBFcnJvcnMgaGVyZS5cblx0XHRcdFx0dmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7XG5cdFx0XHRcdHZhciBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuXHRcdFx0XHRyZWplY3Qoe2NvZGU6IGVycm9yQ29kZSAsIG1lc3NhZ2U6IGVycm9yTWVzc2FnZX0pO1xuXG5cdFx0XHR9KTtcblx0XHR9KTtcblxuXHR9O1xuXG5cdC8vXHRHRVQgQ1VTVE9NRVIgTElTVFxuXHRmdW5jdGlvbiBnZXRfY3VzdG9tZXJfbGlzdCgpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblxuXHRcdC8vY29uc29sZS5sb2coJ2dldHRpbmcgY3VzdG9tZXIgbGlzdCcpO1xuXG5cdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0ICAgICAgICBcblx0ICAgICAgICA7XG5cblx0ICAgIH0pO1xuXHR9XG5cblx0Ly9cdEdFVCBBIFJFQ09SRFxuXHRmdW5jdGlvbiBnZXRfYV9yZWNvcmQocGF0aCkge1xuXG5cdFx0Ly9jb25zb2xlLmxvZygnZ2V0dGluZycsIHBhdGgpO1xuXHRcdC8vcmV0dXJuIGFzeW5jIHdvcmtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgdmFyIGRlc2lyZWRSZWNvcmQgPSAkZmlyZWJhc2VPYmplY3QoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZChwYXRoKSk7XG5cdCAgICAgICAgXG5cdCAgICAgICAgZGVzaXJlZFJlY29yZC4kbG9hZGVkKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0ICAgICAgICBcdHJlc29sdmUocyk7XG5cdCAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHQgICAgICAgIFx0cmVqZWN0KGUpO1xuXHQgICAgICAgIH0pO1xuXG5cdCAgICB9KTtcblxuXHR9O1xuXG5cdC8vXHRDT01QTElMRSBDVVNUT01FUiBTQUxFUyBEQVlTXG5cdGZ1bmN0aW9uIGNvbXBpbGVfY3VzdG9tZXJfc2FsZXNfZGF5cyhjdXN0b21lcl9pZCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdFxuXHR9O1x0XG5cblxuXHQvL1x0VEVTVCBGVU5DVElPTlxuXHRmdW5jdGlvbiB0ZXN0KCkgeyByZXR1cm4oJ2dvb2QgdGVzdCBmcm9tIEZCIFNlcnZpY2UnKTsgfTtcblxuXHQvL3R1cm4gdGhlIG1ldGhvZFxuICAgIHJldHVybiBGQlNlcnZpY2U7XHRcbn07XG5cbiJdfQ==
