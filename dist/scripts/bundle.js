config.$inject=["$routeProvider","$locationProvider"];var ahNuts=angular.module("cne",["ngRoute","firebase","ngSanitize"]);function aSalesdayController(e,t,s,o){var r="sales_days/"+s.salesdayid;this.salesdaySelected=s.salesdayid,this.currentCME=o(firebase.database().ref().child(r)),t.info("in a salesday controller")}function cashDrawerAssignmentsController(e,t,s,o,r,n){var a=this,l=new Date;a.sqrLocations=r(firebase.database().ref().child("reference_lists/sqr_locations")),a.sqrEmployees=r(firebase.database().ref().child("reference_lists/sqr_employees")),a.searchlist={times:{start:l,end:l}},a.cashDrawerList=r(firebase.database().ref().child("sqr_cash_drawers")),a.cmeList=[{test:"test"},{test:"test"},{test:"test"}],a.selected={location:"Oregon"},t.info("in the cash drawer assignment controller",n)}function cmeScheduleController(e,t,s,o,r){this.calendarDays=r(firebase.database().ref().child("calender/2018")),t.info("in the CME Schedule controller")}function customersController(e,t,s,o,r,n,a){var l=this;l.customerList=a(firebase.database().ref().child("customers")),l.customerSalesDays=[],l.selectedCustomer={seasons:{2018:{id:2018}}},l.testList=["a","b","c"],l.state={selected:{customer:{$index:"",$id:""},salesday:{$index:"test",$id:"test"}}},t.info("in the customers controller"),l.selectCustomer=function(e){l.state.selected.customer.$index=e,l.state.selected.customer.$id=l.customerList[e].$id,l.selectedCustomer=n(firebase.database().ref().child("customers").child(l.customerList[e].$id)),l.customerSalesDays=o.compile.customer_sales_days(l.state.selected.customer.$id)},l.updateCustomer=function(){l.selectedCustomer.$save().then(function(e){console.log("updated record successfully")}).catch(function(e){console.log("error updating record",e)})},l.changeRecord=function(e){l.state.selected.customer.$index;switch({prev:0,next:1}[e]){case 0:l.selectCustomer(l.state.selected.customer.$index-1);break;case 1:l.selectCustomer(l.state.selected.customer.$index+1)}},l.generate_bulk_salesdays=function(){console.log("generating bulk salesdays",l.selectedCustomer.sales_days)}}function landingController(e,t){t.info("in the landing controller")}function loginController(e,t,s){var o=this;o.credentials={username:"",password:""},o.active={username:!1,password:!1},o.submitCreds=function(e,t){console.log("submitCreds clicked"),s.authUser.email(e,t).then(function(e){console.log("was success",e)}).catch(function(e){console.log("Error:",e)})},t.info("in the login controller")}function salesDaysController(t,e,s,o,r,n,a){var i=this;i.salesdaysList=o(firebase.database().ref().child("sales_days")),i.selectedRecord={id:"2039752"},i.testCustomers=["Beaverton","Orenco"],i.testSeasons=["2018","2017"],i.testTimes=["9:00 AM","9:15 AM","9:30 AM","9:45 AM"],i.scheduling_params={customer:"",customer_id:"",season:"",bookend_dates:{first:"",last:""},repeats:"",event_days:{Mon:!1,Tue:!1,Wed:!1,Thu:!1,Fri:!1,Sat:!1,Sun:!1},same_day_load_in_out:!0,schedule:{load_in:"",load_out:"",open:"",close:"",sales_start:"",sales_end:""}},i.tempIterations=[],i.tempTimes={load_in:"",load_out:"",open:"",close:"",sales_start:"",sales_end:""},e.info("in the sales days controller"),i.updateRecord=function(e){console.log("got this id",e)},i.addSalesDay=function(){i.salesdaysList.$add({date:(new Date).toISOString(),schedule:{load_in:{datetime:"",sales_day_id:""},load_out:{datetime:"",sales_day_id:""},open:"",close:"",sales_start:"",sales_end:""},customer:"",season:{name:"",frequency:"",instance:0,total:0}}).then(function(e){console.log(e.key),i.selectedRecord=r(firebase.database().ref().child("sales_days").child(e.key)),console.log(i.selectedRecord)}).catch(function(e){console.log("error",e)})},i.generateSalesDays=function(){var e;(e=i.scheduling_params,new Promise(function(t,s){a.sales_days.compile_batch(e).then(function(e){t(e)}).catch(function(e){s(e)})})).then(function(e){console.log("successfully built",e),i.tempIterations=e,t.$apply()}).catch(function(e){console.log(e)})},i.foramtTime=function(e){console.log("formatting time",e);var t=new Date,s=t.getFullYear(),o=t.getMonth(),r=t.getDate(),n=i.tempTimes[e].split(":"),a=n[1].split(" "),l=parseInt(n[0]),c=a[0];"PM"==a[1]&&(l+=12).toString(),o<10&&(o="0"+o),r<10&&(r="0"+r),l<10&&(l="0"+l),i.scheduling_params.schedule[e]=s+"-"+o+"-"+r+"T"+l+":"+c+":00-07:00"},i.saveSalesDays=function(){i.tempIterations.forEach(function(e){i.salesdaysList.$add(e).then(function(e){var t=e.key;console.log(t)})})}}function squareTxsController(e,t,s,o,r,n,a){var l=this,c=moment(new Date).subtract(1,"day");function i(){var e=moment(l.selectedDate).hours(23).minutes(59).seconds(59).format(),t=moment(l.selectedDate).format();a.sqr_txs.full_day(l.selectedLocation.id,t,e).then(function(e){console.log(e,"got this back"),l.daystransactions=e}).catch(function(e){console.log("ERROR",e)})}l.selectedLocation={name:"Oregon",id:""},l.selectedDate=new Date(c.format("MM-DD-YYYY")),l.dayHrs=[1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11,12],l.sqrLocations=n(firebase.database().ref().child("reference_lists/sqr_locations")),l.daystransactions=[],t.info("in a square Txs controller",c.format()),l.dayChange=function(e){var t=moment(new Date(l.selectedDate));switch({"-":0,"+":1}[e]){case 0:t.subtract(1,"day");break;case 1:t.add(1,"day")}l.selectedDate=new Date(t.format("MM-DD-YYYY")),i()},l.sqrLocations.$loaded().then(function(e){e.forEach(function(e){e.name==l.selectedLocation.name&&(l.selectedLocation.id=e.sqr_id)}),i()})}function config(e,t){t.hashPrefix(""),e.when("/",{templateUrl:"views/landingPage.htm",controller:"landingController",controllerAs:"vm"}).when("/customers",{templateUrl:"views/customersPage.htm",controller:"customersController",controllerAs:"vm",resolve:{customerList:customerList}}).when("/salesdays",{templateUrl:"views/salesDaysPage.htm",controller:"salesDaysController",controllerAs:"vm"}).when("/salesdays/:salesdayid",{templateUrl:"views/aSalesdayPage.htm",controller:"aSalesdayController",controllerAs:"vm"}).when("/cash_drawer_assignments",{templateUrl:"views/cashDrawerAssignmentsPage.htm",controller:"cashDrawerAssignmentsController",controllerAs:"vm"}).when("/square_txs",{templateUrl:"views/squareTxsPage.htm",controller:"squareTxsController",controllerAs:"vm"}).when("/login",{templateUrl:"views/loginPage.htm",controller:"loginController",controllerAs:"vm"}).when("/cme_schedule",{templateUrl:"views/cmeSchedulingPage.htm",controller:"cmeScheduleController",controllerAs:"vm"}).otherwise({redirectTo:"/"})}function customerList(){return new Promise(function(e,t){e("good test")})}function customerList(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/customer-list.directive.htm",replace:!0,scope:{},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){console.log("in costomer List controller")}return s.$inject=["$scope","$log"],e}function customerSalesDays(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/customer-sales-days.directive.htm",replace:!0,scope:{salesdaysList:"=",salesdaySelected:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(s,e,t,o){s.$watch("vm.salesdaysList",function(e,t){e&&s.loadSaleDays()},!0)}function s(e,t,r){var n=this;n.detailedSalesDaysList=[],console.log("in the customerSalesDaysController"),e.loadSaleDays=function(){var s=[];Object.keys(n.salesdaysList).forEach(function(e){var t,o;s.push((t=n.salesdaysList[e],o="sales_days/"+t,new Promise(function(t,s){r.get.a_record(o).then(function(e){t(e)}).catch(function(e){s(e)})})))}),Promise.all(s).then(function(e){n.detailedSalesDaysList=e}).catch(function(e){console.log("error",e)})},e.salesDaySelected=function(e){n.salesdaySelected=n.detailedSalesDaysList[e].$id}}return s.$inject=["$scope","$log","firebaseService"],e}function loginPassword(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/login-password.directive.htm",replace:!0,scope:{password:"=",active:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){}return s.$inject=["$scope","$log"],e}function loginUsername(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/login-username.directive.htm",replace:!0,scope:{username:"=",active:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(e,t,s,o){}function s(e,t){}return s.$inject=["$scope","$log"],e}function salesDayTxs(){t.$inject=["scope","el","attr","ctrl"];var e={restrict:"AECM",templateUrl:"views/directives/sales-day-transactions.directive.htm",replace:!0,scope:{txsList:"=",salesdaySelected:"="},link:t,controller:s,controllerAs:"vm",bindToController:!0};function t(s,e,t,o){s.$watch("vm.salesdaySelected",function(e,t){e&&s.loadSDTxs()},!0)}function s(s,e,o){var r=this;function n(e,t){e+=t;return new Promise(function(t,s){o.get.a_record(e).then(function(e){t(e)}).catch(function(e){s(e)})})}r.promiseList=[],r.detailedTxList=[],console.log("in the salesDayTxsController"),s.loadSDTxs=function(){n("sales_days/",r.salesdaySelected).then(function(t){Object.keys(t.transactions).forEach(function(e){"placeholder"!=t.transactions[e]&&r.promiseList.push(n("transactions/",t.transactions[e]))}),Promise.all(r.promiseList).then(function(e){r.detailedTxList=e,s.$apply()}).catch(function(e){console.log("error",e)})}).catch(function(e){console.log("error",e)})}}return s.$inject=["$scope","$log","firebaseService"],e}function dataService(r){return{sqr_txs:{full_day:function(e,t,s){var o={location:e,start:t,end:s};return console.log("getting day's Transactions"),new Promise(function(t,s){r({method:"POST",url:"/squarepos/txs",headers:{"Content-Type":"application/json"},data:o}).then(function(e){t(e.data)},function(e){s(e)})})}},sales_days:{compile_batch:function(e){return new Promise(function(t,s){r({method:"POST",url:"/api/sales_days/compile_new_sales_days_batch",headers:{"Content-Type":"application/json"},data:e}).then(function(e){t(e.data)},function(e){s(e)})})}}}}function firebaseService(e,r,t){return{get:{customer_list:function(){return new Promise(function(e,t){})},a_record:function(o){return new Promise(function(t,s){var e=r(firebase.database().ref().child(o));e.$loaded().then(function(e){t(e)}).catch(function(e){s(e)})})}},authUser:{email:function(e,s){return console.log("authenticating user"),new Promise(function(t,o){firebase.auth().signInWithEmailAndPassword(e,s).then(function(e){t(e)}).catch(function(e){var t=e.code,s=e.message;o({code:t,message:s})})})}},compile:{customer_sales_days:function(e){}},test:function(){return"good test from FB Service"}}}angular.module("cne").controller("aSalesdayController",aSalesdayController),aSalesdayController.$inject=["$scope","$log","$routeParams","$firebaseObject"],angular.module("cne").controller("cashDrawerAssignmentsController",cashDrawerAssignmentsController),cashDrawerAssignmentsController.$inject=["$scope","$log","$firebase","$firebaseObject","$firebaseArray","dataService"],angular.module("cne").controller("cmeScheduleController",cmeScheduleController),cmeScheduleController.$inject=["$scope","$log","$firebase","$firebaseObject","$firebaseArray"],angular.module("cne").controller("customersController",customersController),customersController.$inject=["$scope","$log","customerList","firebaseService","$firebase","$firebaseObject","$firebaseArray"],angular.module("cne").controller("landingController",landingController),landingController.$inject=["$scope","$log"],angular.module("cne").controller("loginController",loginController),loginController.$inject=["$scope","$log","firebaseService"],angular.module("cne").controller("salesDaysController",salesDaysController),salesDaysController.$inject=["$scope","$log","$firebase","$firebaseArray","$firebaseObject","$http","dataService"],angular.module("cne").controller("squareTxsController",squareTxsController),squareTxsController.$inject=["$scope","$log","$routeParams","$firebase","$firebaseObject","$firebaseArray","dataService"],angular.module("cne").config(config),angular.module("cne").directive("customerList",customerList),angular.module("cne").directive("customerSalesDays",customerSalesDays),angular.module("cne").directive("loginPassword",loginPassword),angular.module("cne").directive("loginUsername",loginUsername),angular.module("cne").directive("salesDayTxs",salesDayTxs),angular.module("cne").factory("dataService",dataService),dataService.$inject=["$http"],angular.module("cne").factory("firebaseService",firebaseService),firebaseService.$inject=["$firebase","$firebaseObject","$firebaseArray"];
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvd2ViYXBwLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9hLXNhbGVzZGF5LWNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2Nhc2gtZHJhd2VyLWFzc2lnbm1lbnRzLWNvbnRyb2xsZXIuanMiLCJzY3JpcHRzL2NvbnRyb2xsZXJzL2NtZS1zY2hlZHVsZS1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9jdXN0b21lcnMtY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvbGFuZGluZy1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9sb2dpbi1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9jb250cm9sbGVycy9zYWxlc2RheXMtY29udHJvbGxlci5qcyIsInNjcmlwdHMvY29udHJvbGxlcnMvc3F1YXJlLXR4cy1jb250cm9sbGVyLmpzIiwic2NyaXB0cy9yb3V0ZXMvcm91dGVzLWNvbmZpZy5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9jdXN0b21lci1saXN0LmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2N1c3RvbWVyLXNhbGVzLWRheXMuZGlyZWN0aXZlLmpzIiwic2NyaXB0cy9kaXJlY3RpdmVzL2xvZ2luLXBhc3N3b3JkLmRpcmVjdGl2ZS5qcyIsInNjcmlwdHMvZGlyZWN0aXZlcy9sb2dpbi11c2VybmFtZS5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2RpcmVjdGl2ZXMvc2FsZXMtZGF5LXRyYW5zYWN0aW9ucy5kaXJlY3RpdmUuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9kYXRhLnNlcnZpY2UuanMiLCJzY3JpcHRzL2ZhY3Rvcmllcy9maXJlYmFzZS5zZXJ2aWNlLmpzIl0sIm5hbWVzIjpbImFoTnV0cyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJhU2FsZXNkYXlDb250cm9sbGVyIiwiJHNjb3BlIiwiJGxvZyIsIiRyb3V0ZVBhcmFtcyIsIiRmaXJlYmFzZU9iamVjdCIsImRiUGF0aCIsInNhbGVzZGF5aWQiLCJ0aGlzIiwic2FsZXNkYXlTZWxlY3RlZCIsImN1cnJlbnRDTUUiLCJmaXJlYmFzZSIsImRhdGFiYXNlIiwicmVmIiwiY2hpbGQiLCJpbmZvIiwiY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlciIsIiRmaXJlYmFzZSIsIiRmaXJlYmFzZUFycmF5IiwiZGF0YVNlcnZpY2UiLCJ2bSIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsInNxckxvY2F0aW9ucyIsInNxckVtcGxveWVlcyIsInNlYXJjaGxpc3QiLCJ0aW1lcyIsInN0YXJ0IiwiZW5kIiwiY2FzaERyYXdlckxpc3QiLCJjbWVMaXN0IiwidGVzdCIsInNlbGVjdGVkIiwibG9jYXRpb24iLCJjbWVTY2hlZHVsZUNvbnRyb2xsZXIiLCJjYWxlbmRhckRheXMiLCJjdXN0b21lcnNDb250cm9sbGVyIiwiY3VzdG9tZXJMaXN0IiwiZmlyZWJhc2VTZXJ2aWNlIiwiY3VzdG9tZXJTYWxlc0RheXMiLCJzZWxlY3RlZEN1c3RvbWVyIiwic2Vhc29ucyIsIjIwMTgiLCJpZCIsInRlc3RMaXN0Iiwic3RhdGUiLCJjdXN0b21lciIsIiRpbmRleCIsIiRpZCIsInNhbGVzZGF5Iiwic2VsZWN0Q3VzdG9tZXIiLCJpbmRleF9pZCIsImNvbXBpbGUiLCJjdXN0b21lcl9zYWxlc19kYXlzIiwidXBkYXRlQ3VzdG9tZXIiLCIkc2F2ZSIsInRoZW4iLCJzIiwiY29uc29sZSIsImxvZyIsImNhdGNoIiwiZSIsImNoYW5nZVJlY29yZCIsInNlbGVjdCIsInByZXYiLCJuZXh0IiwiZ2VuZXJhdGVfYnVsa19zYWxlc2RheXMiLCJzYWxlc19kYXlzIiwibGFuZGluZ0NvbnRyb2xsZXIiLCJsb2dpbkNvbnRyb2xsZXIiLCJjcmVkZW50aWFscyIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJhY3RpdmUiLCJzdWJtaXRDcmVkcyIsInBhc3MiLCJhdXRoVXNlciIsImVtYWlsIiwic2FsZXNEYXlzQ29udHJvbGxlciIsIiRodHRwIiwic2FsZXNkYXlzTGlzdCIsInNlbGVjdGVkUmVjb3JkIiwidGVzdEN1c3RvbWVycyIsInRlc3RTZWFzb25zIiwidGVzdFRpbWVzIiwic2NoZWR1bGluZ19wYXJhbXMiLCJjdXN0b21lcl9pZCIsInNlYXNvbiIsImJvb2tlbmRfZGF0ZXMiLCJmaXJzdCIsImxhc3QiLCJyZXBlYXRzIiwiZXZlbnRfZGF5cyIsIk1vbiIsIlR1ZSIsIldlZCIsIlRodSIsIkZyaSIsIlNhdCIsIlN1biIsInNhbWVfZGF5X2xvYWRfaW5fb3V0Iiwic2NoZWR1bGUiLCJsb2FkX2luIiwibG9hZF9vdXQiLCJvcGVuIiwiY2xvc2UiLCJzYWxlc19zdGFydCIsInNhbGVzX2VuZCIsInRlbXBJdGVyYXRpb25zIiwidGVtcFRpbWVzIiwidXBkYXRlUmVjb3JkIiwicmVjb3JkX2lkIiwiYWRkU2FsZXNEYXkiLCIkYWRkIiwiZGF0ZSIsInRvSVNPU3RyaW5nIiwiZGF0ZXRpbWUiLCJzYWxlc19kYXlfaWQiLCJuYW1lIiwiZnJlcXVlbmN5IiwiaW5zdGFuY2UiLCJ0b3RhbCIsImtleSIsImdlbmVyYXRlU2FsZXNEYXlzIiwicGFyYW1zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJjb21waWxlX2JhdGNoIiwiJGFwcGx5IiwiZm9yYW10VGltZSIsInNlY3Rpb24iLCJ0b2RheSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwidGltZVNwbGl0Iiwic3BsaXQiLCJtaW5TcGxpdCIsImhvdXIiLCJwYXJzZUludCIsIm1pbnV0ZSIsInRvU3RyaW5nIiwic2F2ZVNhbGVzRGF5cyIsImZvckVhY2giLCJjbWVfaXRlcmF0aW9uIiwic3F1YXJlVHhzQ29udHJvbGxlciIsInllc3RlcmRheSIsIm1vbWVudCIsInN1YnRyYWN0IiwidXBkYXRlVHhMaXN0IiwiZW5kT2ZEYXkiLCJzZWxlY3RlZERhdGUiLCJob3VycyIsIm1pbnV0ZXMiLCJzZWNvbmRzIiwiZm9ybWF0Iiwic3RhcnRPZkRheSIsInNxcl90eHMiLCJmdWxsX2RheSIsInNlbGVjdGVkTG9jYXRpb24iLCJkYXlzdHJhbnNhY3Rpb25zIiwiZGF5SHJzIiwiZGF5Q2hhbmdlIiwiZGlyZWN0aW9uIiwiY3VycmVudERhdGUiLCItIiwiKyIsImFkZCIsIiRsb2FkZWQiLCJhbGxMb2NhdGlvbnMiLCJzcXJfaWQiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaGFzaFByZWZpeCIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsImNvbnRyb2xsZXIiLCJjb250cm9sbGVyQXMiLCJvdGhlcndpc2UiLCJyZWRpcmVjdFRvIiwiZGlyZWN0aXZlIiwicmVzdHJpY3QiLCJyZXBsYWNlIiwic2NvcGUiLCJsaW5rIiwibGlua0Z1bmMiLCJjdXN0b21lckxpc3RDb250cm9sbGVyIiwiYmluZFRvQ29udHJvbGxlciIsImVsIiwiYXR0ciIsImN0cmwiLCIkaW5qZWN0IiwiY3VzdG9tZXJTYWxlc0RheXNDb250cm9sbGVyIiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsImxvYWRTYWxlRGF5cyIsImRldGFpbGVkU2FsZXNEYXlzTGlzdCIsImFsbFByb21pc2VzIiwiT2JqZWN0Iiwia2V5cyIsInBhdGgiLCJwdXNoIiwiZ2V0IiwiYV9yZWNvcmQiLCJhbGwiLCJzYWxlc0RheVNlbGVjdGVkIiwiaW5kZXgiLCJsb2dpblBhc3N3b3JkIiwibG9naW5QYXNzd29yZENvbnRyb2xsZXIiLCJsb2dpblVzZXJuYW1lIiwibG9naW5Vc2VybmFtZUNvbnRyb2xsZXIiLCJzYWxlc0RheVR4cyIsInR4c0xpc3QiLCJzYWxlc0RheVR4c0NvbnRyb2xsZXIiLCJsb2FkU0RUeHMiLCJsb2FkQVJjcmQiLCJwcm9taXNlTGlzdCIsImRldGFpbGVkVHhMaXN0IiwiZGV0YWlsZWREYXkiLCJ0cmFuc2FjdGlvbnMiLCJzdGFydERhdGUiLCJlbmREYXRlIiwicG9zdE9iamVjdCIsIm1ldGhvZCIsInVybCIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJkYXRhIiwicmVzcG9uc2UiLCJlcnJvciIsImN1c3RvbWVyX2xpc3QiLCJkZXNpcmVkUmVjb3JkIiwiYXV0aCIsInNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkIiwiZXJyb3JDb2RlIiwiY29kZSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJmYWN0b3J5Il0sIm1hcHBpbmdzIjoic0RBQ0EsSUFBQUEsT0FBQUMsUUFBQUMsT0FBQSxNQUFBLENBQUEsVUFBQSxXQUFBLGVDTUEsU0FBQUMsb0JBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBR0EsSUFDQUMsRUFBQSxjQUFBRixFQUFBRyxXQURBQyxLQUVBQyxpQkFBQUwsRUFBQUcsV0FGQUMsS0FJQUUsV0FBQUwsRUFBQU0sU0FBQUMsV0FBQUMsTUFBQUMsTUFBQVIsSUFFQUgsRUFBQVksS0FBQSw0QkNUQSxTQUFBQyxnQ0FBQWQsRUFBQUMsRUFBQWMsRUFBQVosRUFBQWEsRUFBQUMsR0FHQSxJQUFBQyxFQUFBWixLQUNBYSxFQUFBLElBQUFDLEtBRUFGLEVBQUFHLGFBQUFMLEVBQUFQLFNBQUFDLFdBQUFDLE1BQUFDLE1BQUEsa0NBQ0FNLEVBQUFJLGFBQUFOLEVBQUFQLFNBQUFDLFdBQUFDLE1BQUFDLE1BQUEsa0NBQ0FNLEVBQUFLLFdBQUEsQ0FDQUMsTUFBQSxDQUFBQyxNQUFBTixFQUFBTyxJQUFBUCxJQUdBRCxFQUFBUyxlQUFBWCxFQUFBUCxTQUFBQyxXQUFBQyxNQUFBQyxNQUFBLHFCQUNBTSxFQUFBVSxRQUFBLENBQUEsQ0FBQUMsS0FBQSxRQUFBLENBQUFBLEtBQUEsUUFBQSxDQUFBQSxLQUFBLFNBRUFYLEVBQUFZLFNBQUEsQ0FDQUMsU0FBQSxVQUlBOUIsRUFBQVksS0FBQSwyQ0FBQUksR0NwQkEsU0FBQWUsc0JBQUFoQyxFQUFBQyxFQUFBYyxFQUFBWixFQUFBYSxHQUdBVixLQUNBMkIsYUFBQWpCLEVBQUFQLFNBQUFDLFdBQUFDLE1BQUFDLE1BQUEsa0JBQ0FYLEVBQUFZLEtBQUEsa0NDTEEsU0FBQXFCLG9CQUFBbEMsRUFBQUMsRUFBQWtDLEVB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QUEsUUNKQXJNLFFBQ0FDLE9BQUEsT0FDQXFMLFdBQUEsa0JBQUFoSCxpQkFFQUEsZ0JBQUErSCxRQUFBLENBQUEsU0FBQSxPQUFBLG1CQ0pBck0sUUFDQUMsT0FBQSxPQUNBcUwsV0FBQSxzQkFBQXZHLHFCQUVBQSxvQkFBQXNILFFBQUEsQ0FBQSxTQUFBLE9BQUEsWUFBQSxpQkFBQSxrQkFBQSxRQUFBLGVDSkFyTSxRQUNBQyxPQUFBLE9BQ0FxTCxXQUFBLHNCQUFBaEMscUJBRUFBLG9CQUFBK0MsUUFBQSxDQUFBLFNBQUEsT0FBQSxlQUFBLFlBQUEsa0JBQUEsaUJBQUEsZUNDQXJNLFFBQ0FDLE9BQUEsT0FDQStLLE9BQUFBLFFDREFoTCxRQUNBQyxPQUFBLE9BQ0F5TCxVQUFBLGVBQUFwSixjQ0ZBdEMsUUFDQUMsT0FBQSxPQUNBeUwsVUFBQSxvQkFBQWxKLG1CQ0RBeEMsUUFDQUMsT0FBQSxPQUNBeUwsVUFBQSxnQkFBQTRCLGVDRkF0TixRQUNBQyxPQUFBLE9BQ0F5TCxVQUFBLGdCQUFBOEIsZUNIQXhOLFFBQ0FDLE9BQUEsT0FDQXlMLFVBQUEsY0FBQWdDLGFDRkExTixRQUNBQyxPQUFBLE9BQ0FvUCxRQUFBLGNBQUFqTyxhQUdBQSxZQUFBaUwsUUFBQSxDQUFBLFNDTEFyTSxRQUNBQyxPQUFBLE9BQ0FvUCxRQUFBLGtCQUFBOU0saUJBR0FBLGdCQUFBOEosUUFBQSxDQUFBLFlBQUEsa0JBQUEiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTU9EVUxFXG52YXIgYWhOdXRzID0gYW5ndWxhci5tb2R1bGUoJ2NuZScsIFsnbmdSb3V0ZScsICdmaXJlYmFzZScsICduZ1Nhbml0aXplJ10pO1xuIiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NuZScpXG4gICAgLmNvbnRyb2xsZXIoJ2FTYWxlc2RheUNvbnRyb2xsZXInLCBhU2FsZXNkYXlDb250cm9sbGVyKTtcblxuYVNhbGVzZGF5Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCckbG9nJywgJyRyb3V0ZVBhcmFtcycsICckZmlyZWJhc2VPYmplY3QnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBhU2FsZXNkYXlDb250cm9sbGVyKCRzY29wZSwgJGxvZywgJHJvdXRlUGFyYW1zLCAkZmlyZWJhc2VPYmplY3QpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZhciBkYlBhdGggPSAnc2FsZXNfZGF5cy8nICsgJHJvdXRlUGFyYW1zLnNhbGVzZGF5aWQ7XG5cdHZtLnNhbGVzZGF5U2VsZWN0ZWQgPSAkcm91dGVQYXJhbXMuc2FsZXNkYXlpZDtcblxuXHR2bS5jdXJyZW50Q01FID0gJGZpcmViYXNlT2JqZWN0KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoZGJQYXRoKSk7XG5cblx0JGxvZy5pbmZvKCdpbiBhIHNhbGVzZGF5IGNvbnRyb2xsZXInKTtcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXG5cdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXG5cdC8vcnVuIHRoZSB0ZXN0XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdjYXNoRHJhd2VyQXNzaWdubWVudHNDb250cm9sbGVyJywgY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlcik7XG5cbmNhc2hEcmF3ZXJBc3NpZ25tZW50c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckZmlyZWJhc2UnLCAnJGZpcmViYXNlT2JqZWN0JywgJyRmaXJlYmFzZUFycmF5JywgJ2RhdGFTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY2FzaERyYXdlckFzc2lnbm1lbnRzQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRmaXJlYmFzZSwgJGZpcmViYXNlT2JqZWN0LCAkZmlyZWJhc2VBcnJheSwgZGF0YVNlcnZpY2UpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7XG5cblx0dm0uc3FyTG9jYXRpb25zID0gJGZpcmViYXNlQXJyYXkoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgncmVmZXJlbmNlX2xpc3RzL3Nxcl9sb2NhdGlvbnMnKSk7XG5cdHZtLnNxckVtcGxveWVlcyA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ3JlZmVyZW5jZV9saXN0cy9zcXJfZW1wbG95ZWVzJykpO1xuXHR2bS5zZWFyY2hsaXN0ID0ge1xuXHRcdHRpbWVzOiB7IHN0YXJ0OiBjdXJyZW50VGltZSwgZW5kOiBjdXJyZW50VGltZX1cblx0fVxuXHRcblx0dm0uY2FzaERyYXdlckxpc3QgPSAkZmlyZWJhc2VBcnJheShmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdzcXJfY2FzaF9kcmF3ZXJzJykpO1xuXHR2bS5jbWVMaXN0ID0gW3t0ZXN0OlwidGVzdFwifSwge3Rlc3Q6XCJ0ZXN0XCJ9LCB7dGVzdDpcInRlc3RcIn1dO1xuXG5cdHZtLnNlbGVjdGVkID0ge1xuXHRcdGxvY2F0aW9uOiBcIk9yZWdvblwiXG5cdH07XG5cdFxuXHQvL25vdGlmeSBsb2NhdGlvblxuXHQkbG9nLmluZm8oJ2luIHRoZSBjYXNoIGRyYXdlciBhc3NpZ25tZW50IGNvbnRyb2xsZXInLCBkYXRhU2VydmljZSk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XG5cdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXG59IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ2NuZScpXG4gICAgLmNvbnRyb2xsZXIoJ2NtZVNjaGVkdWxlQ29udHJvbGxlcicsIGNtZVNjaGVkdWxlQ29udHJvbGxlcik7XG5cbmNtZVNjaGVkdWxlQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCckbG9nJywgJyRmaXJlYmFzZScsICckZmlyZWJhc2VPYmplY3QnLCAnJGZpcmViYXNlQXJyYXknXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjbWVTY2hlZHVsZUNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkZmlyZWJhc2UsICRmaXJlYmFzZU9iamVjdCwgJGZpcmViYXNlQXJyYXkpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZtLmNhbGVuZGFyRGF5cyA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ2NhbGVuZGVyLzIwMTgnKSk7XG5cdCRsb2cuaW5mbygnaW4gdGhlIENNRSBTY2hlZHVsZSBjb250cm9sbGVyJyk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XG5cdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXG5cdC8vcnVuIHRoZSB0ZXN0XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdjdXN0b21lcnNDb250cm9sbGVyJywgY3VzdG9tZXJzQ29udHJvbGxlcik7XG5cbmN1c3RvbWVyc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICdjdXN0b21lckxpc3QnLCAnZmlyZWJhc2VTZXJ2aWNlJywgJyRmaXJlYmFzZScsICckZmlyZWJhc2VPYmplY3QnLCAnJGZpcmViYXNlQXJyYXknXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjdXN0b21lcnNDb250cm9sbGVyKCRzY29wZSwgJGxvZywgY3VzdG9tZXJMaXN0LCBmaXJlYmFzZVNlcnZpY2UsICRmaXJlYmFzZSwgJGZpcmViYXNlT2JqZWN0LCAkZmlyZWJhc2VBcnJheSkge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblx0dm0uY3VzdG9tZXJMaXN0ID0gJGZpcmViYXNlQXJyYXkoZmlyZWJhc2UuZGF0YWJhc2UoKS5yZWYoKS5jaGlsZCgnY3VzdG9tZXJzJykpO1xuXHR2bS5jdXN0b21lclNhbGVzRGF5cyA9IFtdO1xuXHR2bS5zZWxlY3RlZEN1c3RvbWVyID0geyBzZWFzb25zOiB7IFwiMjAxOFwiOiB7IGlkOiAyMDE4fSB9IH07XG5cdHZtLnRlc3RMaXN0ID0gWydhJywgJ2InLCAnYyddOyAvLyRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ2N1c3RvbWVycycpLmNoaWxkKCdjdXN0b21lcl9saXN0JykpO1xuXHR2bS5zdGF0ZSA9IHtcblx0XHRzZWxlY3RlZDoge1xuXHRcdFx0Y3VzdG9tZXI6IHtcblx0XHRcdFx0JGluZGV4OiBcIlwiLFxuXHRcdFx0XHQkaWQ6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRzYWxlc2RheToge1xuXHRcdFx0XHQkaW5kZXg6IFwidGVzdFwiLFxuXHRcdFx0XHQkaWQ6IFwidGVzdFwiXG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8vaWRlbnRpZnkgd2hlcmUgd2UgYXJlXG5cdCRsb2cuaW5mbygnaW4gdGhlIGN1c3RvbWVycyBjb250cm9sbGVyJyk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblx0XG5cblx0Lypcblx0Klx0TE9DQUwgRlVOQ1RJT05TIEdPIEhFUkVcblx0KlxuXHQqL1xuXG5cdC8vXHRMT0FEIENVU1RPTUVSIExJU1Rcblx0ZnVuY3Rpb24gbG9hZF9jdXN0b21lcl9saXN0KCkge1xuXHRcdFxuXHRcdC8vdHJhY2sgc3RhcnRpbmcgZnVuY3Rpb25cblx0XHQvL2NvbnNvbGUubG9nKCdsb2FkaW5nIHRoZSBjdXN0b21lciBsaXN0Jyk7XG5cdFx0XG5cdFx0Ly9nYXRoZXIgdGhlIGRhdGFcblx0XHRmaXJlYmFzZVNlcnZpY2UuZ2V0LmN1c3RvbWVyX2xpc3QoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdnb3QgdGhpcyByZXNwb25zJywgcyk7XG5cdFx0XHRcblx0XHRcdC8vd2hlbiB0aGUgbGlzdCBoYXMgYmVlbiBsb2FkZWQgdXBkYXRlIHRoZSB2YXJpYWJsZXNcblx0XHRcdC8vdm0uY3VzdG9tZXJMaXN0ID0gcztcblx0XHRcdHZtLmN1c3RvbWVyTGlzdCA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ2N1c3RvbWVycycpLmNoaWxkKCdjdXN0b21lcl9saXN0JykpO1xuXG5cdFx0XHQvL3JlZmxlY3QgdGhlIGNoYW5nZXNcblx0XHRcdCRzY29wZS4kYXBwbHkoKTtcblxuXHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdC8vaWYgdGhlcmUgd2FzIGFuIGVycm9yIHRocm93IHRoZSBlcnJvclxuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJyk7XG5cdFx0fSk7XG5cdH07XG5cblx0Lypcblx0Klx0VklFVyBNT0RFTCBGVU5DVElPTlMgR08gSEVSRVxuXHQqXG5cdCovXHRcblx0Ly9cdFNFTEVDVCBDTElDS0VEIENVU1RPTUVSXG5cdHZtLnNlbGVjdEN1c3RvbWVyID0gZnVuY3Rpb24oaW5kZXhfaWQpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2bS5zdGF0ZS5zZWxlY3RlZC5jdXN0b21lci4kaW5kZXggPSBpbmRleF9pZDtcblx0XHR2bS5zdGF0ZS5zZWxlY3RlZC5jdXN0b21lci4kaWQgPSB2bS5jdXN0b21lckxpc3RbaW5kZXhfaWRdLiRpZDtcblx0XHR2bS5zZWxlY3RlZEN1c3RvbWVyID0gJGZpcmViYXNlT2JqZWN0KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ2N1c3RvbWVycycpLmNoaWxkKHZtLmN1c3RvbWVyTGlzdFtpbmRleF9pZF0uJGlkKSk7XG5cdFx0dm0uY3VzdG9tZXJTYWxlc0RheXMgPSBmaXJlYmFzZVNlcnZpY2UuY29tcGlsZS5jdXN0b21lcl9zYWxlc19kYXlzKHZtLnN0YXRlLnNlbGVjdGVkLmN1c3RvbWVyLiRpZCk7XG5cdH07XG5cblx0Ly9cdFVQREFURSBUSEUgQ1VTVE9NRVIgUkVDT1JEXG5cdHZtLnVwZGF0ZUN1c3RvbWVyID0gZnVuY3Rpb24oKSB7XG5cdFx0dm0uc2VsZWN0ZWRDdXN0b21lci4kc2F2ZSgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzKHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKCd1cGRhdGVkIHJlY29yZCBzdWNjZXNzZnVsbHknKTtcblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnZXJyb3IgdXBkYXRpbmcgcmVjb3JkJywgZSk7XG5cdFx0fSk7XG5cdH07XG5cblx0Ly9cdE1PVkUgVE8gVEhFIE5FWFQgQ1VTVE9NRVJcblx0dm0uY2hhbmdlUmVjb3JkID0gZnVuY3Rpb24oc2VsZWN0KSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIG9wdG4gPSB7IFwicHJldlwiOiAwLCBcIm5leHRcIjogMSB9O1xuXHRcdHZhciBpbmRleF9pZCA9IHZtLnN0YXRlLnNlbGVjdGVkLmN1c3RvbWVyLiRpbmRleDtcblxuXHRcdC8vY29uc29sZS5sb2coaW5kZXhfaWQpO1xuXG5cdFx0c3dpdGNoKG9wdG5bc2VsZWN0XSkge1xuXHRcdFx0Y2FzZSAwOlxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdwcmV2aW91cyByZWNvcmQnKTtcblx0XHRcdFx0dm0uc2VsZWN0Q3VzdG9tZXIodm0uc3RhdGUuc2VsZWN0ZWQuY3VzdG9tZXIuJGluZGV4IC0gMSk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCduZXh0IHJlY29yZCcpO1xuXHRcdFx0XHR2bS5zZWxlY3RDdXN0b21lcih2bS5zdGF0ZS5zZWxlY3RlZC5jdXN0b21lci4kaW5kZXggKyAxKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRicmVhaztcblx0XHR9XG5cdH07XG5cblx0Ly9cdEdFTkVSQVRFIEJVTEsgU0FMRVMgREFZU1xuXHR2bS5nZW5lcmF0ZV9idWxrX3NhbGVzZGF5cyA9IGZ1bmN0aW9uKCkge1xuXHRcdC8vZGVmaW5lIGxvY2FsIHZhcmlhYmxlc1xuXHRcdGNvbnNvbGUubG9nKCdnZW5lcmF0aW5nIGJ1bGsgc2FsZXNkYXlzJywgdm0uc2VsZWN0ZWRDdXN0b21lci5zYWxlc19kYXlzKTtcblx0XHRcblx0fTtcblxuXHQvL3J1biB0aGUgdGVzdFxuXG5cdC8vb24gcGFnZSBsb2FkXG5cdC8vbG9hZF9jdXN0b21lcl9saXN0KCk7XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdsYW5kaW5nQ29udHJvbGxlcicsIGxhbmRpbmdDb250cm9sbGVyKTtcblxubGFuZGluZ0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZyddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxhbmRpbmdDb250cm9sbGVyKCRzY29wZSwgJGxvZykge1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgdmFyaWFibGVcblx0dmFyIHZtID0gdGhpcztcblxuXHQkbG9nLmluZm8oJ2luIHRoZSBsYW5kaW5nIGNvbnRyb2xsZXInKTtcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXG5cdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXG5cdC8vcnVuIHRoZSB0ZXN0XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdsb2dpbkNvbnRyb2xsZXInLCBsb2dpbkNvbnRyb2xsZXIpO1xuXG5sb2dpbkNvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICdmaXJlYmFzZVNlcnZpY2UnXTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2dpbkNvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCBmaXJlYmFzZVNlcnZpY2UpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZXNcblx0dm0uY3JlZGVudGlhbHMgPSB7XG5cdFx0dXNlcm5hbWU6IFwiXCIsXG5cdFx0cGFzc3dvcmQ6IFwiXCJcblx0fTtcblxuXHR2bS5hY3RpdmUgPSB7XG5cdFx0dXNlcm5hbWU6IGZhbHNlLFxuXHRcdHBhc3N3b3JkOiBmYWxzZVxuXHR9O1xuXG5cdC8vZGVmaW5lIHZpZXcgbW9kZWwgZnVuY3Rpb25zXG5cdHZtLnN1Ym1pdENyZWRzID0gZnVuY3Rpb24odXNlcm5hbWUsIHBhc3MpIHtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnc3VibWl0Q3JlZHMgY2xpY2tlZCcpO1xuXHRcdFxuXHRcdC8vc3VibWl0IGNyZWRlbnRpYWxzXG5cdFx0ZmlyZWJhc2VTZXJ2aWNlLmF1dGhVc2VyLmVtYWlsKHVzZXJuYW1lLCBwYXNzKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3MgKHMpIHtcblxuXHRcdFx0Y29uc29sZS5sb2coJ3dhcyBzdWNjZXNzJywgcyk7XG5cblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhcIkVycm9yOlwiLCBlKTtcblx0XHR9KTtcblxuXHR9O1xuXG5cdCRsb2cuaW5mbygnaW4gdGhlIGxvZ2luIGNvbnRyb2xsZXInKTtcdC8vVE9ETzogVEFLRSBUSElTIE9VVCBMQVRFUlxuXG5cdC8vZGVmaW5lIGxvY2FsIGZ1bmN0aW9uc1xuXG5cdC8vcnVuIHRoZSB0ZXN0XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdzYWxlc0RheXNDb250cm9sbGVyJywgc2FsZXNEYXlzQ29udHJvbGxlcik7XG5cbnNhbGVzRGF5c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckZmlyZWJhc2UnLCAnJGZpcmViYXNlQXJyYXknLCAnJGZpcmViYXNlT2JqZWN0JywgJyRodHRwJywgJ2RhdGFTZXJ2aWNlJ107XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2FsZXNEYXlzQ29udHJvbGxlcigkc2NvcGUsICRsb2csICRmaXJlYmFzZSwgJGZpcmViYXNlQXJyYXksICRmaXJlYmFzZU9iamVjdCwgJGh0dHAsIGRhdGFTZXJ2aWNlKSB7XG5cblx0Ly9kZWZpbmUgdmlldyBtb2RlbCB2YXJpYWJsZVxuXHR2YXIgdm0gPSB0aGlzO1xuXHQvKnZhciBpdGVyYXRpb24gPSB7XG5cdFx0ZGF0ZTogXCIyMDE4LTA1LTA1VDA2OjAwOjAwWlwiLFxuXHRcdHdrX2RheTogXCJTYXRcIixcblx0XHRpZDogXCJiZWF2ZXJ0b25fZm1fMDAxXCIsXG5cdFx0c2NoZWR1bGU6IHtcblx0XHRcdGxvYWRfaW46IFwiXCIsXG5cdFx0XHRsb2FkX291dDogXCJcIixcblx0XHRcdG9wZW46IFwiODowMCBBTVwiLFxuXHRcdFx0Y2xvc2U6IFwiMTozMCBQTVwiLFxuXHRcdFx0c2FsZXNfc3RhcnQ6IFwiXCIsXG5cdFx0XHRzYWxlc19lbmQ6IFwiXCJcblx0XHR9XG5cdH07Ki9cblx0dm0uc2FsZXNkYXlzTGlzdCA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ3NhbGVzX2RheXMnKSk7XG5cdHZtLnNlbGVjdGVkUmVjb3JkID0geyBpZDogXCIyMDM5NzUyXCIgfTtcblx0dm0udGVzdEN1c3RvbWVycyA9IFsgXCJCZWF2ZXJ0b25cIiwgXCJPcmVuY29cIiBdO1xuXHR2bS50ZXN0U2Vhc29ucyA9IFsgJzIwMTgnLCAnMjAxNycgXTtcblx0Ly92bS5yZXBlYXRzID0gWyAnbmV2ZXInLCBcImV2ZXJ5IHdlZWtcIiwgXCJldmVyeSAyIHdlZWtzXCIsIFwiZXZlcnkgMyB3ZWVrc1wiLCBcImV2ZXJ5XzRfd2Vla3NcIiwgXCJldmVyeV81X3dlZWtzXCIsIFwiZXZlcnlfNl93ZWVrc1wiLCBcImV2ZXJ5Xzdfd2Vla3NcIiwgXCJldmVyeV84X3dlZWtzXCIgXTtcblx0dm0udGVzdFRpbWVzID0gWyAnOTowMCBBTScsJzk6MTUgQU0nLCc5OjMwIEFNJywnOTo0NSBBTScgIF07XG5cdHZtLnNjaGVkdWxpbmdfcGFyYW1zID0ge1xuXHRcdGN1c3RvbWVyOiBcIlwiLFxuXHRcdGN1c3RvbWVyX2lkOiBcIlwiLFxuXHRcdHNlYXNvbjogXCJcIixcblx0XHRib29rZW5kX2RhdGVzOiB7XG5cdFx0XHRmaXJzdDogXCJcIixcblx0XHRcdGxhc3Q6IFwiXCJcblx0XHR9LFxuXHRcdHJlcGVhdHM6IFwiXCIsXG5cdFx0ZXZlbnRfZGF5czoge1xuXHRcdFx0TW9uOiBmYWxzZSxcblx0XHRcdFR1ZTogZmFsc2UsXG5cdFx0XHRXZWQ6IGZhbHNlLFxuXHRcdFx0VGh1OiBmYWxzZSxcblx0XHRcdEZyaTogZmFsc2UsXG5cdFx0XHRTYXQ6IGZhbHNlLFxuXHRcdFx0U3VuOiBmYWxzZVxuXHRcdH0sXG5cdFx0c2FtZV9kYXlfbG9hZF9pbl9vdXQ6IHRydWUsXG5cdFx0c2NoZWR1bGU6IHtcblx0XHRcdGxvYWRfaW46IFwiXCIsXG5cdFx0XHRsb2FkX291dDogXCJcIixcblx0XHRcdG9wZW46IFwiXCIsXG5cdFx0XHRjbG9zZTogXCJcIixcblx0XHRcdHNhbGVzX3N0YXJ0OiBcIlwiLFxuXHRcdFx0c2FsZXNfZW5kOiBcIlwiXG5cdFx0fVxuXHR9O1xuXHR2bS50ZW1wSXRlcmF0aW9ucyA9IFtdO1xuXHR2bS50ZW1wVGltZXMgPSB7XG5cdFx0bG9hZF9pbjogXCJcIixcblx0XHRsb2FkX291dDogXCJcIixcblx0XHRvcGVuOiBcIlwiLFxuXHRcdGNsb3NlOiBcIlwiLFxuXHRcdHNhbGVzX3N0YXJ0OiBcIlwiLFxuXHRcdHNhbGVzX2VuZDogXCJcIlxuXHR9XG5cblx0Ly9pZGVudGlmeSBjb250cm9sbGVyXG5cdCRsb2cuaW5mbygnaW4gdGhlIHNhbGVzIGRheXMgY29udHJvbGxlcicpO1x0Ly9UT0RPOiBUQUtFIFRISVMgT1VUIExBVEVSXG5cblx0Lypcblx0Klx0TE9DQUwgRlVOQ1RJT05TIEdPIEhFUkVcblx0KlxuXHQqL1xuXHRmdW5jdGlvbiBidWlsZF9zYWxlc19kYXlzX2FycmF5KHBhcmFtcykge1xuXHRcdC8vbG9jYWwgdmFyaWFibGVzXG5cblx0XHQvL2NvbnNvbGUubG9nKCdnb3QgdGhlc2UgcGFyYW1zJywgc3RhcnQsIGVuZCk7XG5cblx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly9hY2Nlc3MgZGF0YSBzZXJ2aWNlXG5cdFx0XHRkYXRhU2VydmljZS5zYWxlc19kYXlzLmNvbXBpbGVfYmF0Y2gocGFyYW1zKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdzdWNjZXNzJywgcyk7XG5cdFx0XHRcdHJlc29sdmUocyk7XG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2Vycm9yJywgZSk7XG5cdFx0XHRcdHJlamVjdChlKTtcblx0XHRcdH0pO1xuXG5cdFx0fSk7XG5cblx0fTtcblxuXG5cdC8qXG5cdCpcdFZJRVcgTU9ERUwgRlVOQ1RJT05TIEdPIEhFUkVcblx0KlxuXHQqL1xuXHQvL1x0VVBEQVRFIFJFQ09SRFxuXHR2bS51cGRhdGVSZWNvcmQgPSBmdW5jdGlvbihyZWNvcmRfaWQpIHtcblx0XHRjb25zb2xlLmxvZygnZ290IHRoaXMgaWQnLCByZWNvcmRfaWQpO1xuXHRcdC8qdm0uc2FsZXNkYXlzTGlzdC4kc2F2ZShyZWNvcmRfaWQpLnRoZW4oZnVuY3Rpb24gc3VjY2VzKHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKCd1cGRhdGVkIHJlY29yZCBzdWNjZXNzZnVsbHknKTtcblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnZXJyb3IgdXBkYXRpbmcgcmVjb3JkJywgZSk7XG5cdFx0fSk7Ki9cblx0fTtcblxuXHQvLyBBREQgTkVXIFNBTEVTIERBWVxuXHR2bS5hZGRTYWxlc0RheSA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0dm0uc2FsZXNkYXlzTGlzdC4kYWRkKHtcblx0XHRcdGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdHNjaGVkdWxlOiB7XG5cdFx0XHRcdGxvYWRfaW46IHtcblx0XHRcdFx0XHRkYXRldGltZTogXCJcIixcblx0XHRcdFx0XHRzYWxlc19kYXlfaWQ6IFwiXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0bG9hZF9vdXQ6IHtcblx0XHRcdFx0XHRkYXRldGltZTogXCJcIixcblx0XHRcdFx0XHRzYWxlc19kYXlfaWQ6IFwiXCJcblx0XHRcdFx0fSxcblx0XHRcdFx0b3BlbjogXCJcIixcblx0XHRcdFx0Y2xvc2U6IFwiXCIsXG5cdFx0XHRcdHNhbGVzX3N0YXJ0OiBcIlwiLFxuXHRcdFx0XHRzYWxlc19lbmQ6IFwiXCJcblx0XHRcdH0sXG5cdFx0XHRjdXN0b21lcjogXCJcIixcblx0XHRcdHNlYXNvbjoge1xuXHRcdFx0XHRuYW1lOiBcIlwiLFxuXHRcdFx0XHRmcmVxdWVuY3k6IFwiXCIsXG5cdFx0XHRcdGluc3RhbmNlOiAwLFxuXHRcdFx0XHR0b3RhbDogMFxuXHRcdFx0fVxuXHRcdH0pLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHQvL3NldCB0aGUgZmlyZWJhc2Ugb2JqZWN0XG5cdFx0XHRjb25zb2xlLmxvZyhzLmtleSk7XG5cdFx0XHR2bS5zZWxlY3RlZFJlY29yZCA9ICRmaXJlYmFzZU9iamVjdChmaXJlYmFzZS5kYXRhYmFzZSgpLnJlZigpLmNoaWxkKCdzYWxlc19kYXlzJykuY2hpbGQocy5rZXkpKTtcblx0XHRcdGNvbnNvbGUubG9nKHZtLnNlbGVjdGVkUmVjb3JkKTtcblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnZXJyb3InLCBlKTtcblx0XHR9KTtcblxuXHRcdC8qdm0uc2FsZXNkYXlzTGlzdC5zYXZlKCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzJywgcyk7XG5cdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0Y29uc29sZS5sb2coJ2Vycm9yJywgZSk7XG5cdFx0fSk7Ki9cblxuXHR9O1xuXG5cdC8vIEdFTkVSQVRFIFNBTEVTIERBWVNcblx0dm0uZ2VuZXJhdGVTYWxlc0RheXMgPSBmdW5jdGlvbigpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblxuXHRcdC8vbm90aWZ5IG9mIGxvY2F0aW9uXG5cdFx0Ly9jb25zb2xlLmxvZygnZ2VuZXJhdGluZyBTYWxlcyBkYXlzJywgdm0uc2NoZWR1bGluZ19wYXJhbXMpO1xuXG5cdFx0YnVpbGRfc2FsZXNfZGF5c19hcnJheSh2bS5zY2hlZHVsaW5nX3BhcmFtcykudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKCdzdWNjZXNzZnVsbHkgYnVpbHQnLCBzKTtcblx0XHRcdHZtLnRlbXBJdGVyYXRpb25zID0gcztcblx0XHRcdCRzY29wZS4kYXBwbHkoKTtcblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhlKTtcblx0XHR9KTtcblxuXHR9O1xuXG5cdC8vXHRGT1JNQVQgVElNRVxuXHR2bS5mb3JhbXRUaW1lID0gZnVuY3Rpb24oc2VjdGlvbikge1xuXHRcdFxuXHRcdC8vbm90aWZ5IG9mIHByb2dyZXNzXG5cdFx0Y29uc29sZS5sb2coJ2Zvcm1hdHRpbmcgdGltZScsIHNlY3Rpb24pO1xuXG5cdFx0Ly9zcGxpdCB0aW1lXG5cdFx0dmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcblx0XHR2YXIgeWVhciA9IHRvZGF5LmdldEZ1bGxZZWFyKCk7XG5cdFx0dmFyIG1vbnRoID0gdG9kYXkuZ2V0TW9udGgoKTtcblx0XHR2YXIgZGF5ID0gdG9kYXkuZ2V0RGF0ZSgpO1xuXHRcdFxuXG5cdFx0dmFyIHRpbWVTcGxpdCA9IHZtLnRlbXBUaW1lc1tzZWN0aW9uXS5zcGxpdChcIjpcIik7XG5cdFx0dmFyIG1pblNwbGl0ID0gdGltZVNwbGl0WzFdLnNwbGl0KFwiIFwiKTtcblx0XHR2YXIgaG91ciA9IHBhcnNlSW50KHRpbWVTcGxpdFswXSk7XG5cdFx0dmFyIG1pbnV0ZSA9IG1pblNwbGl0WzBdO1xuXHRcdHZhciB0aW1lRGF5ID0gbWluU3BsaXRbMV07XG5cblx0XHQvL2Zvcm1hdCBhY2NvcmRpbmdseVxuXHRcdGlmKHRpbWVEYXkgPT0gXCJQTVwiKSB7IGhvdXIgKz0gMTI7IGhvdXIudG9TdHJpbmcoKTsgfVxuXHRcdGlmKG1vbnRoIDwgMTApIG1vbnRoID0gXCIwXCIgKyBtb250aDtcblx0XHRpZihkYXkgPCAxMCkgZGF5ID0gXCIwXCIgKyBkYXk7XG5cdFx0aWYoaG91ciA8IDEwKSBob3VyID0gXCIwXCIgKyBob3VyO1xuXHRcdC8vaWYobWludXRlIDwgMTApIG1pbiA9IFwiMFwiICsgbWludXRlO1xuXHRcdFxuXG5cdFx0Ly9jb25zb2xlLmxvZyh0b2RheSwgJ2hvdXInLCBob3VyLCAnbWludXRlJywgbWludXRlLCAndGltZURheScsIHRpbWVEYXkpO1xuXG5cdFx0Ly92bS5zY2hlZHVsaW5nX3BhcmFtcy5zY2hlZHVsZVtzZWN0aW9uXSA9IFwiMjAxOC0wNS0wNVQwNjowMDowMC0wNzowMFwiXG5cdFx0dm0uc2NoZWR1bGluZ19wYXJhbXMuc2NoZWR1bGVbc2VjdGlvbl0gPSB5ZWFyICsgXCItXCIgKyBtb250aCArIFwiLVwiICsgIGRheSArIFwiVFwiICsgIGhvdXIgKyBcIjpcIiArIG1pbnV0ZSArIFwiOjAwLTA3OjAwXCJcblx0fTtcblxuXHQvLyBcdFNBVkUgU0FMRVMgREFZU1xuXHR2bS5zYXZlU2FsZXNEYXlzID0gZnVuY3Rpb24oKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIGluZGV4ID0gMDtcblxuXHRcdC8vaXRlcmF0ZSB0aHJvdWdoIGFsbCB0aGUgc2FsZXMgZGF5cywgc2F2aW5nIHRvIHRoZSBEQlxuXHRcdHZtLnRlbXBJdGVyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGNtZV9pdGVyYXRpb24pIHtcblxuXHRcdFx0dm0uc2FsZXNkYXlzTGlzdC4kYWRkKGNtZV9pdGVyYXRpb24pLnRoZW4oZnVuY3Rpb24gKHJlZikge1xuXHRcdFx0XHQvL2dldCB0aGUgbmV3IGtleVxuXHRcdFx0XHR2YXIgaWQgPSByZWYua2V5O1xuXG5cdFx0XHRcdC8vc2F2ZSBpdCB0byB0aGUgZGIgb2JqZWN0XG5cdFx0XHRcdGNvbnNvbGUubG9nKGlkKTtcblxuXHRcdFx0fSk7XG5cblx0XHR9KTtcblxuXHRcdC8vb25jZSB0aGV5IGhhdmUgYWxsIGJlbiBzYXZlZCBcblxuXHRcdC8vdm0uc2FsZXNkYXlzTGlzdC4kYWRkKHtuYW1lOiAndGVzdCd9KTtcdFxuXHR9O1xuXG5cdC8vcnVuIHRoZSB0ZXN0XG5cblxufSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb250cm9sbGVyKCdzcXVhcmVUeHNDb250cm9sbGVyJywgc3F1YXJlVHhzQ29udHJvbGxlcik7XG5cbnNxdWFyZVR4c0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJHNjb3BlJywnJGxvZycsICckcm91dGVQYXJhbXMnLCAnJGZpcmViYXNlJywgJyRmaXJlYmFzZU9iamVjdCcsICckZmlyZWJhc2VBcnJheScsICdkYXRhU2VydmljZSddO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIHNxdWFyZVR4c0NvbnRyb2xsZXIoJHNjb3BlLCAkbG9nLCAkcm91dGVQYXJhbXMsICRmaXJlYmFzZSwgJGZpcmViYXNlT2JqZWN0LCAkZmlyZWJhc2VBcnJheSwgZGF0YVNlcnZpY2UpIHtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIHZhcmlhYmxlXG5cdHZhciB2bSA9IHRoaXM7XG5cdHZhciB5ZXN0ZXJkYXkgPSBtb21lbnQobmV3IERhdGUoKSkuc3VidHJhY3QoMSwgXCJkYXlcIik7XG5cdFxuXHQvL2RlZmluZSB2aWV3bW9kZWwgdmFyaWFibGVzXG5cdC8vdm0uaGlnaGxpZ2h0ZWREYXRlID0geWVzdGVyZGF5LmZvcm1hdChcIk1NLURELVlZWVlcIik7XG5cdHZtLnNlbGVjdGVkTG9jYXRpb24gPSB7XG5cdFx0bmFtZTpcIk9yZWdvblwiLFxuXHRcdGlkOiBcIlwiXG5cdH07XG5cdHZtLnNlbGVjdGVkRGF0ZSA9IG5ldyBEYXRlKHllc3RlcmRheS5mb3JtYXQoXCJNTS1ERC1ZWVlZXCIpKTtcblx0dm0uZGF5SHJzID0gWzEsIDIsIDMsIDQsIDUsNiwgNywgOCwgOSwgMTAsIDExLCAxMiwgMSwgMiwgMywgNCwgNSwgNiwgNywgOCwgOSwgMTAsIDExLCAxMl07XG5cdHZtLnNxckxvY2F0aW9ucyA9ICRmaXJlYmFzZUFycmF5KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQoJ3JlZmVyZW5jZV9saXN0cy9zcXJfbG9jYXRpb25zJykpO1xuXHR2bS5kYXlzdHJhbnNhY3Rpb25zID0gW107XG5cblx0Ly9ub3RpZnkgcHJvZ3Jlc3Ncblx0JGxvZy5pbmZvKCdpbiBhIHNxdWFyZSBUeHMgY29udHJvbGxlcicsIHllc3RlcmRheS5mb3JtYXQoKSk7XHQvL1RPRE86IFRBS0UgVEhJUyBPVVQgTEFURVJcblxuXHQvL2RlZmluZSBsb2NhbCBmdW5jdGlvbnNcblx0ZnVuY3Rpb24gdXBkYXRlVHhMaXN0KCkge1xuXHRcdHZhciBlbmRPZkRheSA9IG1vbWVudCh2bS5zZWxlY3RlZERhdGUpLmhvdXJzKDIzKS5taW51dGVzKDU5KS5zZWNvbmRzKDU5KS5mb3JtYXQoKTtcblx0XHR2YXIgc3RhcnRPZkRheSA9IG1vbWVudCh2bS5zZWxlY3RlZERhdGUpLmZvcm1hdCgpO1xuXHRcdGRhdGFTZXJ2aWNlLnNxcl90eHMuZnVsbF9kYXkoXG5cdFx0XHR2bS5zZWxlY3RlZExvY2F0aW9uLmlkLCBcblx0XHRcdHN0YXJ0T2ZEYXksXG5cdFx0XHRlbmRPZkRheVxuXHRcdCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKHMpIHtcblx0XHRcdGNvbnNvbGUubG9nKHMsICdnb3QgdGhpcyBiYWNrJyk7XG5cdFx0XHR2bS5kYXlzdHJhbnNhY3Rpb25zID0gcztcblx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRjb25zb2xlLmxvZygnRVJST1InLCBlKTtcblx0XHR9KTtcblx0fTtcblxuXHRmdW5jdGlvbiBkZWZpbmVMb2NhdGlvbigpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJhaWFibGVzXG5cdFx0XG5cdFx0Ly9tYWtlIHN1cmUgbG9jYXRpb25zIG9iamVjdCBpcyBsb2FkZWRcblx0XHR2bS5zcXJMb2NhdGlvbnMuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24oYWxsTG9jYXRpb25zKSB7XG5cdFx0XHRcdFxuXHRcdFx0Ly9pdGVyYXRlIHRocm91Z2ggYWxsIGxvY2F0aW9uc1xuXHRcdFx0YWxsTG9jYXRpb25zLmZvckVhY2goZnVuY3Rpb24obG9jYXRpb24pIHtcblx0XHRcdFx0XG5cdFx0XHRcdGlmKGxvY2F0aW9uLm5hbWUgPT0gdm0uc2VsZWN0ZWRMb2NhdGlvbi5uYW1lKSB2bS5zZWxlY3RlZExvY2F0aW9uLmlkID0gbG9jYXRpb24uc3FyX2lkO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vdGhlbiBydW4gdGhlIGRhdGEgc2VydmljZVxuXHRcdFx0dXBkYXRlVHhMaXN0KCk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQvL2RlZmluZSB2aWV3IG1vZGVsIGZ1bmN0aW9uc1xuXHR2bS5kYXlDaGFuZ2UgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgZGlySGFzaCA9IHtcIi1cIjowLCBcIitcIjoxfTtcblx0XHR2YXIgY3VycmVudERhdGUgPSBtb21lbnQobmV3IERhdGUodm0uc2VsZWN0ZWREYXRlKSk7XG5cblx0XHRzd2l0Y2goZGlySGFzaFtkaXJlY3Rpb25dKSB7XG5cdFx0XHRjYXNlIDA6XG5cdFx0XHRcdGN1cnJlbnREYXRlLnN1YnRyYWN0KDEsXCJkYXlcIik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAxOlxuXHRcdFx0XHRjdXJyZW50RGF0ZS5hZGQoMSxcImRheVwiKVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGJyZWFrO1xuXHRcdH07XG5cblx0XHR2bS5zZWxlY3RlZERhdGUgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5mb3JtYXQoXCJNTS1ERC1ZWVlZXCIpKTtcblxuXHRcdHVwZGF0ZVR4TGlzdCgpO1xuXHR9XG5cblx0Ly9ydW4gdGhlIHRlc3Rcblx0XG5cdGRlZmluZUxvY2F0aW9uKCk7XG59IiwiLypcbipcdFJPVVRFUy1DT05GSUdcbipcbipcdFRoaXMgbW9kdWxlIHNldHMgdXAgYWxsIHRoZSByZXF1aXJlZCBhbmd1bGFyIHJvdXRlcyBmb3IgdGhpcyB3ZWIgYXBwLlxuKi9cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdjbmUnKVxuICAgIC5jb25maWcoY29uZmlnKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBjb25maWcoJHJvdXRlUHJvdmlkZXIsICRsb2NhdGlvblByb3ZpZGVyKSB7XG5cdCRsb2NhdGlvblByb3ZpZGVyLmhhc2hQcmVmaXgoJycpO1xuICAgICRyb3V0ZVByb3ZpZGVyXG5cdC8vUFVCTElDIFJPVVRFU1xuICAgIC53aGVuKCcvJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2xhbmRpbmdQYWdlLmh0bScsICAgICAgLy8ndmlld3MvbWFpblBhZ2UuaHRtJ1xuICAgICAgICBjb250cm9sbGVyOiAnbGFuZGluZ0NvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9jdXN0b21lcnMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY3VzdG9tZXJzUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ2N1c3RvbWVyc0NvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJyxcbiAgICAgICAgcmVzb2x2ZTogeyAvKiBAbmdJbmplY3QgKi9cbiAgICAgICAgICAgIGN1c3RvbWVyTGlzdDogY3VzdG9tZXJMaXN0XG4gICAgICAgIH1cbiAgICB9KVxuICAgIC53aGVuKCcvc2FsZXNkYXlzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NhbGVzRGF5c1BhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzYWxlc0RheXNDb250cm9sbGVyJywgICAgICAgICAgIC8vJ21haW5Db250cm9sbGVyJ1xuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvc2FsZXNkYXlzLzpzYWxlc2RheWlkJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL2FTYWxlc2RheVBhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdhU2FsZXNkYXlDb250cm9sbGVyJywgICAgICAgICAgIC8vJ21haW5Db250cm9sbGVyJ1xuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KVxuICAgIC53aGVuKCcvY2FzaF9kcmF3ZXJfYXNzaWdubWVudHMnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY2FzaERyYXdlckFzc2lnbm1lbnRzUGFnZS5odG0nLCAgICAgIC8vJ3ZpZXdzL21haW5QYWdlLmh0bSdcbiAgICAgICAgY29udHJvbGxlcjogJ2Nhc2hEcmF3ZXJBc3NpZ25tZW50c0NvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pICAgXG4gICAgLndoZW4oJy9zcXVhcmVfdHhzJywge1xuICAgICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL3NxdWFyZVR4c1BhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdzcXVhcmVUeHNDb250cm9sbGVyJywgICAgICAgICAgIC8vJ21haW5Db250cm9sbGVyJ1xuICAgICAgICBjb250cm9sbGVyQXM6ICd2bSdcbiAgICB9KSAgXG4gICAgLndoZW4oJy9sb2dpbicsIHtcbiAgICAgICAgdGVtcGxhdGVVcmw6ICd2aWV3cy9sb2dpblBhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdsb2dpbkNvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG4gICAgLndoZW4oJy9jbWVfc2NoZWR1bGUnLCB7XG4gICAgICAgIHRlbXBsYXRlVXJsOiAndmlld3MvY21lU2NoZWR1bGluZ1BhZ2UuaHRtJywgICAgICAvLyd2aWV3cy9tYWluUGFnZS5odG0nXG4gICAgICAgIGNvbnRyb2xsZXI6ICdjbWVTY2hlZHVsZUNvbnRyb2xsZXInLCAgICAgICAgICAgLy8nbWFpbkNvbnRyb2xsZXInXG4gICAgICAgIGNvbnRyb2xsZXJBczogJ3ZtJ1xuICAgIH0pXG5cdC5vdGhlcndpc2Uoe1xuICAgICAgICByZWRpcmVjdFRvOiAnLydcbiAgICB9KTtcbn1cblxuLypcbiogICBSRVFVSVJFRCBGVU5DVElPTlNcbipcbiovXG5cbi8vICBDVVNUT01FUlMgTElTVFxuZnVuY3Rpb24gY3VzdG9tZXJMaXN0KCkge1xuICAgIFxuICAgIC8vcmV0dXJuIHRoZSBwcm9taXNlXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAvL2hpdCB0aGUgc2VydmVyIGZvciB0aGUgXG4gICAgICAgIHJlc29sdmUoJ2dvb2QgdGVzdCcpO1xuICAgIH0pO1xuXG59O1xuXG4iLCIvKlxuKlx0Q1VTVE9NRVIgTElTVFxuKlxuKlx0VGhpcyBtb2R1bGUgaXMgZGVzaWduZWQgdG8gXG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2NuZScpXG5cdC5kaXJlY3RpdmUoJ2N1c3RvbWVyTGlzdCcsIGN1c3RvbWVyTGlzdCk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gY3VzdG9tZXJMaXN0KCkge1xuXHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jdXN0b21lci1saXN0LmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGN1c3RvbWVyTGlzdENvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHt9XG5cblx0Y3VzdG9tZXJMaXN0Q29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuXHRcblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGN1c3RvbWVyTGlzdENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0Y29uc29sZS5sb2coJ2luIGNvc3RvbWVyIExpc3QgY29udHJvbGxlcicpO1xuXHR9XG5cblx0Ly9wYXNzIGl0IGJhY2tcblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCIvKlxuKlx0U0FMRVMgREFZIFRSQU5TQUNUSU9OU1xuKlxuKlx0VGhpcyBtb2R1bGUgaXMgZGVzaWduZWQgdG8gXG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2NuZScpXG5cdC5kaXJlY3RpdmUoJ2N1c3RvbWVyU2FsZXNEYXlzJywgY3VzdG9tZXJTYWxlc0RheXMpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGN1c3RvbWVyU2FsZXNEYXlzKCkge1xuXHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9jdXN0b21lci1zYWxlcy1kYXlzLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHNhbGVzZGF5c0xpc3Q6IFwiPVwiLFxuXHRcdFx0c2FsZXNkYXlTZWxlY3RlZDogJz0nXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBjdXN0b21lclNhbGVzRGF5c0NvbnRyb2xsZXIsXG5cdFx0Y29udHJvbGxlckFzOiAndm0nLFxuXHRcdGJpbmRUb0NvbnRyb2xsZXI6IHRydWVcblx0fVxuXG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsaW5rRnVuYyhzY29wZSwgZWwsIGF0dHIsIGN0cmwpIHtcblxuXHRcdC8vdXBkYXRlIHRoZSBzYWxlc2RheXNMaXN0IHdoZW4gYSBuZXcgY3VzdG9tZXIgaXMgc2VsZWN0ZWRcblx0XHRzY29wZS4kd2F0Y2goJ3ZtLnNhbGVzZGF5c0xpc3QnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcblx0XHRcdFxuXHRcdFx0Ly93YXRjaCBmb3IgYSBuZXcgdmFsdWVcblx0XHRcdGlmKG5ld1ZhbHVlKSB7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL2lmIHRoZSB2YWx1ZSBjaGFuZ2VzIGRvd25sb2FkIHRoZSByZXF1aXJlZCB2YWx1ZXNcblx0XHRcdFx0c2NvcGUubG9hZFNhbGVEYXlzKCk7XG5cblx0XHRcdH1cblxuXHRcdH0sIHRydWUpO1xuXG5cdH07XG5cblx0Y3VzdG9tZXJTYWxlc0RheXNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2ZpcmViYXNlU2VydmljZSddO1xuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gY3VzdG9tZXJTYWxlc0RheXNDb250cm9sbGVyKCRzY29wZSwgJGxvZywgZmlyZWJhc2VTZXJ2aWNlKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHZtID0gdGhpcztcblx0XHR2bS5kZXRhaWxlZFNhbGVzRGF5c0xpc3QgPSBbXTtcblxuXHRcdGNvbnNvbGUubG9nKCdpbiB0aGUgY3VzdG9tZXJTYWxlc0RheXNDb250cm9sbGVyJyk7XG5cblx0XHRmdW5jdGlvbiBsb2FkQVR4KGlkKSB7XG5cdFx0XHR2YXIgcGF0aCA9ICdzYWxlc19kYXlzLycgKyBpZDtcblxuXHRcdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRcdC8vY29sbGVjdGVkIGRhdGFcblx0XHRcdFx0ZmlyZWJhc2VTZXJ2aWNlLmdldC5hX3JlY29yZChwYXRoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRcdHJlc29sdmUocyk7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdC8vZGVmaW5lIHNjb3BlIHZhcmlhYmxlc1xuXHRcdC8vXHRMT0FEIFNBTEVEQVlTXG5cdFx0JHNjb3BlLmxvYWRTYWxlRGF5cyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2YXIgYWxsUHJvbWlzZXMgPSBbXTtcblxuXHRcdFx0Ly9pdGVyYXRlIHRocm91Z2ggYWxsIHZhbHVlc1xuXHRcdFx0T2JqZWN0LmtleXModm0uc2FsZXNkYXlzTGlzdCkuZm9yRWFjaChmdW5jdGlvbihrZXkpe1xuXG5cdFx0XHRcdGFsbFByb21pc2VzLnB1c2gobG9hZEFUeCh2bS5zYWxlc2RheXNMaXN0W2tleV0pKTtcblxuXHRcdFx0fSk7XG5cblx0XHRcdC8vcnVuIGFsbCBwcm9taXNlc1xuXHRcdFx0UHJvbWlzZS5hbGwoYWxsUHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ2FsbCBwcm9taXNlcyByZXR1cm5lZCcsIHMpO1xuXHRcdFx0XHR2bS5kZXRhaWxlZFNhbGVzRGF5c0xpc3QgPSBzXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCdlcnJvcicsZSk7XG5cdFx0XHR9KTtcblxuXG5cdFx0fTtcblxuXHRcdC8vXHRTQUxFUyBEQVkgU0VMRUNURURcblx0XHQkc2NvcGUuc2FsZXNEYXlTZWxlY3RlZCA9IGZ1bmN0aW9uKGluZGV4KSB7IFxuXHRcdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0XHR2bS5zYWxlc2RheVNlbGVjdGVkID0gdm0uZGV0YWlsZWRTYWxlc0RheXNMaXN0W2luZGV4XS4kaWQ7XG5cdFx0XHQvL2NvbnNvbGUubG9nKHZtLnNhbGVzZGF5c0xpc3RbaW5kZXhdKTtcblx0XHR9XG5cblx0fVxuXG5cdC8vcGFzcyBpdCBiYWNrXG5cdHJldHVybiBkaXJlY3RpdmU7XG59IiwiLypcbipcdEZMQVZPUiBNSVhFUlxuKlxuKlx0VGhpcyBtb2R1bGUgaXMgZGVzaWduZWQgdG8gYWxsb3cgY3VzdG9tZXJzIHRvIG1peCBhbmQgbWF0Y2hcbipcdG91ciBkZWxpY2lvdXMgZmxhdm9ycyBhbmQgdG8gcGljayB0aGllciBzaXppbmcuXG4qL1xuXG5hbmd1bGFyXG5cdC5tb2R1bGUoJ2NuZScpXG5cdC5kaXJlY3RpdmUoJ2xvZ2luUGFzc3dvcmQnLCBsb2dpblBhc3N3b3JkKTtcblxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBsb2dpblBhc3N3b3JkKCkge1xuXHQvL2RlZmluZSB0aGUgZGlyZWN0aXZlXG5cdHZhciBkaXJlY3RpdmUgPSB7XG5cdFx0cmVzdHJpY3Q6IFwiQUVDTVwiLFxuXHRcdHRlbXBsYXRlVXJsOiAndmlld3MvZGlyZWN0aXZlcy9sb2dpbi1wYXNzd29yZC5kaXJlY3RpdmUuaHRtJyxcblx0XHRyZXBsYWNlOiB0cnVlLFxuXHRcdHNjb3BlOiB7XG5cdFx0XHRwYXNzd29yZDogXCI9XCIsXG5cdFx0XHRhY3RpdmU6IFwiPVwiXG5cdFx0fSxcblx0XHRsaW5rOiBsaW5rRnVuYyxcblx0XHRjb250cm9sbGVyOiBsb2dpblBhc3N3b3JkQ29udHJvbGxlcixcblx0XHRjb250cm9sbGVyQXM6ICd2bScsXG5cdFx0YmluZFRvQ29udHJvbGxlcjogdHJ1ZVxuXHR9XG5cblx0LyogQG5nSW5qZWN0ICovXG5cdGZ1bmN0aW9uIGxpbmtGdW5jKHNjb3BlLCBlbCwgYXR0ciwgY3RybCkge31cblxuXHRsb2dpblBhc3N3b3JkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGxvZyddO1xuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbG9naW5QYXNzd29yZENvbnRyb2xsZXIoJHNjb3BlLCAkbG9nKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHR9XG5cblx0Ly9wYXNzIGl0IGJhY2tcblx0cmV0dXJuIGRpcmVjdGl2ZTtcbn0iLCIvKlxuKlx0RkxBVk9SIE1JWEVSXG4qXG4qXHRUaGlzIG1vZHVsZSBpcyBkZXNpZ25lZCB0byBhbGxvdyBjdXN0b21lcnMgdG8gbWl4IGFuZCBtYXRjaFxuKlx0b3VyIGRlbGljaW91cyBmbGF2b3JzIGFuZCB0byBwaWNrIHRoaWVyIHNpemluZy5cbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnY25lJylcblx0LmRpcmVjdGl2ZSgnbG9naW5Vc2VybmFtZScsIGxvZ2luVXNlcm5hbWUpO1xuXG4vKiBAbmdJbmplY3QgKi9cbmZ1bmN0aW9uIGxvZ2luVXNlcm5hbWUoKSB7XG5cdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL2xvZ2luLXVzZXJuYW1lLmRpcmVjdGl2ZS5odG0nLFxuXHRcdHJlcGxhY2U6IHRydWUsXG5cdFx0c2NvcGU6IHtcblx0XHRcdHVzZXJuYW1lOiBcIj1cIixcblx0XHRcdGFjdGl2ZTogXCI9XCJcblx0XHR9LFxuXHRcdGxpbms6IGxpbmtGdW5jLFxuXHRcdGNvbnRyb2xsZXI6IGxvZ2luVXNlcm5hbWVDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7fVxuXG5cdGxvZ2luVXNlcm5hbWVDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJ107XG5cdC8qIEBuZ0luamVjdCAqL1xuXHRmdW5jdGlvbiBsb2dpblVzZXJuYW1lQ29udHJvbGxlcigkc2NvcGUsICRsb2cpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdH1cblxuXHQvL3Bhc3MgaXQgYmFja1xuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsIi8qXG4qXHRTQUxFUyBEQVkgVFJBTlNBQ1RJT05TXG4qXG4qXHRUaGlzIG1vZHVsZSBpcyBkZXNpZ25lZCB0byBcbiovXG5cbmFuZ3VsYXJcblx0Lm1vZHVsZSgnY25lJylcblx0LmRpcmVjdGl2ZSgnc2FsZXNEYXlUeHMnLCBzYWxlc0RheVR4cyk7XG5cbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gc2FsZXNEYXlUeHMoKSB7XG5cdC8vZGVmaW5lIHRoZSBkaXJlY3RpdmVcblx0dmFyIGRpcmVjdGl2ZSA9IHtcblx0XHRyZXN0cmljdDogXCJBRUNNXCIsXG5cdFx0dGVtcGxhdGVVcmw6ICd2aWV3cy9kaXJlY3RpdmVzL3NhbGVzLWRheS10cmFuc2FjdGlvbnMuZGlyZWN0aXZlLmh0bScsXG5cdFx0cmVwbGFjZTogdHJ1ZSxcblx0XHRzY29wZToge1xuXHRcdFx0dHhzTGlzdDogXCI9XCIsXG5cdFx0XHRzYWxlc2RheVNlbGVjdGVkOiAnPSdcblxuXHRcdH0sXG5cdFx0bGluazogbGlua0Z1bmMsXG5cdFx0Y29udHJvbGxlcjogc2FsZXNEYXlUeHNDb250cm9sbGVyLFxuXHRcdGNvbnRyb2xsZXJBczogJ3ZtJyxcblx0XHRiaW5kVG9Db250cm9sbGVyOiB0cnVlXG5cdH1cblxuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gbGlua0Z1bmMoc2NvcGUsIGVsLCBhdHRyLCBjdHJsKSB7XG5cblx0XHQvL3VwZGF0ZSB0aGUgc2FsZXNkYXlzTGlzdCB3aGVuIGEgbmV3IGN1c3RvbWVyIGlzIHNlbGVjdGVkXG5cdFx0c2NvcGUuJHdhdGNoKCd2bS5zYWxlc2RheVNlbGVjdGVkJywgZnVuY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XG5cdFx0XHRcblx0XHRcdC8vd2F0Y2ggZm9yIGEgbmV3IHZhbHVlXG5cdFx0XHRpZihuZXdWYWx1ZSkge1xuXHRcdFx0XHRcblx0XHRcdFx0Ly9pZiB0aGUgdmFsdWUgY2hhbmdlcyBkb3dubG9hZCB0aGUgcmVxdWlyZWQgdmFsdWVzXG5cdFx0XHRcdC8vY29uc29sZS5sb2coJ3NhbGVzRGF5IFNlbGVjdGVkJyk7XG5cdFx0XHRcdHNjb3BlLmxvYWRTRFR4cygpO1xuXG5cdFx0XHR9XG5cblx0XHR9LCB0cnVlKTtcblxuXHR9XG5cblx0c2FsZXNEYXlUeHNDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckbG9nJywgJ2ZpcmViYXNlU2VydmljZSddO1xuXHQvKiBAbmdJbmplY3QgKi9cblx0ZnVuY3Rpb24gc2FsZXNEYXlUeHNDb250cm9sbGVyKCRzY29wZSwgJGxvZywgZmlyZWJhc2VTZXJ2aWNlKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cdFx0dmFyIHZtID0gdGhpcztcblx0XHR2bS5wcm9taXNlTGlzdCA9IFtdO1xuXHRcdHZtLmRldGFpbGVkVHhMaXN0ID0gW107XG5cblx0XHRjb25zb2xlLmxvZygnaW4gdGhlIHNhbGVzRGF5VHhzQ29udHJvbGxlcicpO1xuXG5cdFx0ZnVuY3Rpb24gbG9hZEFSY3JkKHBhdGgsIGlkKSB7XG5cdFx0XHR2YXIgcGF0aCA9IHBhdGggKyBpZDtcblxuXHRcdFx0Ly9jb25zb2xlLmxvZygnbG9hZEFSY3JkJywgcGF0aClcblxuXHRcdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXG5cdFx0XHRcdC8vY29sbGVjdGVkIGRhdGFcblx0XHRcdFx0ZmlyZWJhc2VTZXJ2aWNlLmdldC5hX3JlY29yZChwYXRoKS50aGVuKGZ1bmN0aW9uIHN1Y2Nlc3Mocykge1xuXHRcdFx0XHRcdC8vY29uc29sZS5sb2coJ2dvdCB0aGlzIHJlY29yZCcsIHMpO1xuXHRcdFx0XHRcdHJlc29sdmUocyk7XG5cdFx0XHRcdH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0XHRcdFx0XHRyZWplY3QoZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9KTtcblxuXHRcdH1cblxuXHRcdC8vXHRERUZJTkUgU0FMRVMgREFZUyBUUkFOU0FDVElPTlNcblx0XHQkc2NvcGUubG9hZFNEVHhzID0gZnVuY3Rpb24oKSB7XG5cdFx0XHQvL2NvbnNvbGUubG9nKCdsb2FkaW5nIHNkIHR4cycsIHZtLnNhbGVzZGF5U2VsZWN0ZWQpO1xuXG5cdFx0XHQvL1xuXHRcdFx0bG9hZEFSY3JkKFwic2FsZXNfZGF5cy9cIiwgdm0uc2FsZXNkYXlTZWxlY3RlZCkudGhlbihmdW5jdGlvbiBzdWNjZXNzKGRldGFpbGVkRGF5KSB7XG5cdFx0XHRcdFxuXHRcdFx0XHQvL2NvbnNvbGUubG9nKCdkZXRhaWxlZERheScsIGRldGFpbGVkRGF5LiRyZXNvbHZlZCk7XG5cdFx0XHRcdC8vSXRlcmF0ZSBvdmVyIGFsbCBvZiB0aGUgdHJhbnNhY3Rpb25zXG5cdFx0XHRcdE9iamVjdC5rZXlzKGRldGFpbGVkRGF5LnRyYW5zYWN0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcblx0XHRcdFx0XHQvL2NvbnNvbGUubG9nKGRldGFpbGVkRGF5LnRyYW5zYWN0aW9uc1trZXldKTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRpZihkZXRhaWxlZERheS50cmFuc2FjdGlvbnNba2V5XSAhPSBcInBsYWNlaG9sZGVyXCIpIHtcblx0XHRcdFx0XHRcdHZtLnByb21pc2VMaXN0LnB1c2gobG9hZEFSY3JkKFwidHJhbnNhY3Rpb25zL1wiLCBkZXRhaWxlZERheS50cmFuc2FjdGlvbnNba2V5XSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0UHJvbWlzZS5hbGwodm0ucHJvbWlzZUxpc3QpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdFx0XHRcdFx0Ly9jb25zb2xlLmxvZyhzKTtcblx0XHRcdFx0XHR2bS5kZXRhaWxlZFR4TGlzdCA9IHM7XG5cdFx0XHRcdFx0JHNjb3BlLiRhcHBseSgpO1xuXHRcdFx0XHR9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihlKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coXCJlcnJvclwiLCBlKTtcblx0XHRcdFx0fSk7XG5cblxuXHRcdFx0fSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IoZSkge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnZXJyb3InLCBlKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cdH1cblxuXHQvL3Bhc3MgaXQgYmFja1xuXHRyZXR1cm4gZGlyZWN0aXZlO1xufSIsIi8qXG4qXHRCQUNLRU5EIERBVEEgU0VSVklDRVxuKlxuKi9cblxuLy9kZWZpbmUgbW9kdWxlXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuZmFjdG9yeSgnZGF0YVNlcnZpY2UnLCBkYXRhU2VydmljZSk7XG5cbi8vZGVwZW5kZW5jeSBpbmplY3Rpb25zXG5kYXRhU2VydmljZS4kaW5qZWN0ID0gWyckaHR0cCddO1xuXG4vL2RlY2xhcmUgdGhlIHNlcnZpY2Vcbi8qIEBuZ0luamVjdCAqL1xuZnVuY3Rpb24gZGF0YVNlcnZpY2UoJGh0dHApIHtcblxuXHQvL2RlZmluZSBtZXRob2RzXG5cdHZhciBkYXRhU2VydmljZSA9IHtcblx0XHRzcXJfdHhzOiB7XG5cdFx0XHRmdWxsX2RheTogc3FyX3R4c19kYXlcblx0XHR9LFxuXHRcdHNhbGVzX2RheXM6IHtcblx0XHRcdGNvbXBpbGVfYmF0Y2g6IGNvbXBpbGVfbmV3X3NhbGVzX2RheV9iYXRjaFxuXHRcdH1cblx0fTtcblxuXHQvL1x0VEVTVCBGVU5DVElPTlxuXHRmdW5jdGlvbiBjb21waWxlX25ld19zYWxlc19kYXlfYmF0Y2gocGFyYW1zKSB7XG5cdFx0XG5cdFx0Ly9jb25zb2xlLmxvZygndGVzdGluZyBkYXRhU2VydmljZScpO1xuXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0Ly90cnkgUE9TVFxuXHRcdFx0JGh0dHAoe1xuXHRcdFx0XHRtZXRob2Q6ICdQT1NUJyxcblx0XHRcdFx0dXJsOiAnL2FwaS9zYWxlc19kYXlzL2NvbXBpbGVfbmV3X3NhbGVzX2RheXNfYmF0Y2gnLFxuXHRcdFx0XHRoZWFkZXJzOiB7XG5cdFx0XHRcdFx0J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuXHRcdFx0XHR9LFx0XG5cdFx0XHRcdGRhdGE6IHBhcmFtc1xuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQvL1NRVUFSRSBUUkFOU0FDVElPTiBEQVlTXG5cdGZ1bmN0aW9uIHNxcl90eHNfZGF5KGxvY2F0aW9uLCBzdGFydERhdGUsIGVuZERhdGUpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHR2YXIgcG9zdE9iamVjdCA9IHtcblx0XHRcdGxvY2F0aW9uOiBsb2NhdGlvbixcblx0XHRcdHN0YXJ0OiBzdGFydERhdGUsXG5cdFx0XHRlbmQ6IGVuZERhdGVcblx0XHR9O1xuXG5cdFx0Y29uc29sZS5sb2coJ2dldHRpbmcgZGF5XFwncyBUcmFuc2FjdGlvbnMnKTtcblxuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcblx0XHRcdC8vdHJ5IFBPU1Rcblx0XHRcdCRodHRwKHtcblx0XHRcdFx0bWV0aG9kOiAnUE9TVCcsXG5cdFx0XHRcdHVybDogJy9zcXVhcmVwb3MvdHhzJyxcblx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdCdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcblx0XHRcdFx0fSxcblx0XHRcdFx0ZGF0YTogcG9zdE9iamVjdFxuXHRcdFx0fSkudGhlbihmdW5jdGlvbiBzdWNjZXNzQ2FsbGJhY2socmVzcG9uc2UpIHtcblx0XHRcdFx0XG5cdFx0XHRcdHJlc29sdmUocmVzcG9uc2UuZGF0YSk7XG5cdFx0XHRcdFxuXHRcdFx0fSwgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayhlcnJvcikge1xuXHRcdFx0XHRyZWplY3QoZXJyb3IpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fVxuXG5cdC8vdHVybiB0aGUgbWV0aG9kXG4gICAgcmV0dXJuIGRhdGFTZXJ2aWNlO1x0XG59O1xuXG4iLCIvKlxuKlxuKlxuKi9cblxuLy9kZWZpbmUgbW9kdWxlXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgnY25lJylcbiAgICAuZmFjdG9yeSgnZmlyZWJhc2VTZXJ2aWNlJywgZmlyZWJhc2VTZXJ2aWNlKTtcblxuLy9kZXBlbmRlbmN5IGluamVjdGlvbnNcbmZpcmViYXNlU2VydmljZS4kaW5qZWN0ID0gWyckZmlyZWJhc2UnLCAnJGZpcmViYXNlT2JqZWN0JywgJyRmaXJlYmFzZUFycmF5J107XG5cbi8vZGVjbGFyZSB0aGUgc2VydmljZVxuLyogQG5nSW5qZWN0ICovXG5mdW5jdGlvbiBmaXJlYmFzZVNlcnZpY2UoJGZpcmViYXNlLCAkZmlyZWJhc2VPYmplY3QsICRmaXJlYmFzZUFycmF5KSB7XG5cblx0Ly9kZWZpbmUgbWV0aG9kc1xuXHR2YXIgRkJTZXJ2aWNlID0ge1xuXHRcdGdldDoge1xuXHRcdFx0Y3VzdG9tZXJfbGlzdDogZ2V0X2N1c3RvbWVyX2xpc3QsXG5cdFx0XHRhX3JlY29yZDogZ2V0X2FfcmVjb3JkXG5cdFx0fSxcblx0XHRhdXRoVXNlcjoge1xuXHRcdFx0ZW1haWw6IGF1dGhVc2VyX2VtYWlsXG5cdFx0fSxcblx0XHRjb21waWxlOiB7XG5cdFx0XHRjdXN0b21lcl9zYWxlc19kYXlzOiBjb21waWxlX2N1c3RvbWVyX3NhbGVzX2RheXNcblx0XHR9LFxuXHRcdHRlc3Q6IHRlc3Rcblx0fTtcblxuXHQvL1x0QVVUSEVOVElDQVRFIFVTRVJcblx0ZnVuY3Rpb24gYXV0aFVzZXJfZW1haWwoZW1haWwsIHBhc3N3b3JkKSB7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coJ2F1dGhlbnRpY2F0aW5nIHVzZXInKVxuXG5cdFx0Ly9yZXR1cm4gYXN5bmMgd29ya1xuXHRcdHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG5cblx0XHRcdGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gc3VjZXNzKHMpIHtcblxuXHRcdFx0XHRyZXNvbHZlKHMpO1xuXG5cdFx0XHR9KS5jYXRjaChmdW5jdGlvbihlcnJvcikge1xuXHRcdFx0XHQvLyBIYW5kbGUgRXJyb3JzIGhlcmUuXG5cdFx0XHRcdHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlO1xuXHRcdFx0XHR2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcblx0XHRcdFx0cmVqZWN0KHtjb2RlOiBlcnJvckNvZGUgLCBtZXNzYWdlOiBlcnJvck1lc3NhZ2V9KTtcblxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cblx0fTtcblxuXHQvL1x0R0VUIENVU1RPTUVSIExJU1Rcblx0ZnVuY3Rpb24gZ2V0X2N1c3RvbWVyX2xpc3QoKSB7XG5cdFx0Ly9kZWZpbmUgbG9jYWwgdmFyaWFibGVzXG5cblx0XHQvL2NvbnNvbGUubG9nKCdnZXR0aW5nIGN1c3RvbWVyIGxpc3QnKTtcblxuXHRcdC8vcmV0dXJuIGFzeW5jIHdvcmtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG5cdCAgICAgICAgXG5cdCAgICAgICAgO1xuXG5cdCAgICB9KTtcblx0fVxuXG5cdC8vXHRHRVQgQSBSRUNPUkRcblx0ZnVuY3Rpb24gZ2V0X2FfcmVjb3JkKHBhdGgpIHtcblxuXHRcdC8vY29uc29sZS5sb2coJ2dldHRpbmcnLCBwYXRoKTtcblx0XHQvL3JldHVybiBhc3luYyB3b3JrXG5cdFx0cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHQgICAgICAgIHZhciBkZXNpcmVkUmVjb3JkID0gJGZpcmViYXNlT2JqZWN0KGZpcmViYXNlLmRhdGFiYXNlKCkucmVmKCkuY2hpbGQocGF0aCkpO1xuXHQgICAgICAgIFxuXHQgICAgICAgIGRlc2lyZWRSZWNvcmQuJGxvYWRlZCgpLnRoZW4oZnVuY3Rpb24gc3VjY2VzcyhzKSB7XG5cdCAgICAgICAgXHRyZXNvbHZlKHMpO1xuXHQgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKGUpIHtcblx0ICAgICAgICBcdHJlamVjdChlKTtcblx0ICAgICAgICB9KTtcblxuXHQgICAgfSk7XG5cblx0fTtcblxuXHQvL1x0Q09NUExJTEUgQ1VTVE9NRVIgU0FMRVMgREFZU1xuXHRmdW5jdGlvbiBjb21waWxlX2N1c3RvbWVyX3NhbGVzX2RheXMoY3VzdG9tZXJfaWQpIHtcblx0XHQvL2RlZmluZSBsb2NhbCB2YXJpYWJsZXNcblx0XHRcblx0fTtcdFxuXG5cblx0Ly9cdFRFU1QgRlVOQ1RJT05cblx0ZnVuY3Rpb24gdGVzdCgpIHsgcmV0dXJuKCdnb29kIHRlc3QgZnJvbSBGQiBTZXJ2aWNlJyk7IH07XG5cblx0Ly90dXJuIHRoZSBtZXRob2RcbiAgICByZXR1cm4gRkJTZXJ2aWNlO1x0XG59O1xuXG4iXX0=
